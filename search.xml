<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>MySql数据库</title>
      <link href="/posts/Infinity.html"/>
      <url>/posts/Infinity.html</url>
      
        <content type="html"><![CDATA[<p>可当做备用资料库来查</p><h1 id="1-基础篇"><a href="#1-基础篇" class="headerlink" title="1. 基础篇"></a>1. 基础篇</h1><h2 id="1-1-通用语法及分类"><a href="#1-1-通用语法及分类" class="headerlink" title="1.1 通用语法及分类"></a>1.1 通用语法及分类</h2><ul><li>DDL: 数据定义语言，用来定义数据库对象（数据库、表、字段）</li><li>DML: 数据操作语言，用来对数据库表中的数据进行增删改</li><li>DQL: 数据查询语言，用来查询数据库中表的记录</li><li>DCL: 数据控制语言，用来创建数据库用户、控制数据库的控制权限</li></ul><h3 id="DDL（数据定义语言）"><a href="#DDL（数据定义语言）" class="headerlink" title="DDL（数据定义语言）"></a>DDL（数据定义语言）</h3><p>数据定义语言</p><h4 id="数据库操作"><a href="#数据库操作" class="headerlink" title="数据库操作"></a>数据库操作</h4><p>查询所有数据库：<br><code>SHOW DATABASES;</code><br>查询当前数据库：<br><code>SELECT DATABASE();</code><br>创建数据库：<br><code>CREATE DATABASE [ IF NOT EXISTS ] 数据库名 [ DEFAULT CHARSET 字符集] [COLLATE 排序规则 ];</code><br>删除数据库：<br><code>DROP DATABASE [ IF EXISTS ] 数据库名;</code><br>使用数据库：<br><code>USE 数据库名;</code></p><h5 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h5><ul><li>UTF8 字符集长度为 3 字节，有些符号占 4 字节，所以推荐用 utf8mb4 字符集</li></ul><h4 id="表操作"><a href="#表操作" class="headerlink" title="表操作"></a>表操作</h4><p>查询当前数据库所有表：<br><code>SHOW TABLES;</code><br>查询表结构：<br><code>DESC 表名;</code><br>查询指定表的建表语句：<br><code>SHOW CREATE TABLE 表名;</code></p><p>创建表：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">CREATE TABLE 表名(</span><br><span class="line">字段1 字段1类型 [COMMENT 字段1注释],</span><br><span class="line">字段2 字段2类型 [COMMENT 字段2注释],</span><br><span class="line">字段3 字段3类型 [COMMENT 字段3注释],</span><br><span class="line">...</span><br><span class="line">字段n 字段n类型 [COMMENT 字段n注释]</span><br><span class="line">)[ COMMENT 表注释 ];</span><br></pre></td></tr></table></figure><p><strong>最后一个字段后面没有逗号</strong></p><p>添加字段：<br><code>ALTER TABLE 表名 ADD 字段名 类型(长度) [COMMENT 注释] [约束];</code><br>例：<code>ALTER TABLE emp ADD nickname varchar(20) COMMENT &#39;昵称&#39;;</code></p><p>修改数据类型：<br><code>ALTER TABLE 表名 MODIFY 字段名 新数据类型(长度);</code><br>修改字段名和字段类型：<br><code>ALTER TABLE 表名 CHANGE 旧字段名 新字段名 类型(长度) [COMMENT 注释] [约束];</code><br>例：将 emp 表的 nickname 字段修改为 username，类型为 varchar (30)<br><code>ALTER TABLE emp CHANGE nickname username varchar(30) COMMENT &#39;昵称&#39;;</code></p><p>删除字段：<br><code>ALTER TABLE 表名 DROP 字段名;</code></p><p>修改表名：<br><code>ALTER TABLE 表名 RENAME TO 新表名</code></p><p>删除表：<br><code>DROP TABLE [IF EXISTS] 表名;</code><br>删除表，并重新创建该表：<br><code>TRUNCATE TABLE 表名;</code></p><h3 id="DML（数据操作语言）"><a href="#DML（数据操作语言）" class="headerlink" title="DML（数据操作语言）"></a>DML（数据操作语言）</h3><h4 id="添加数据"><a href="#添加数据" class="headerlink" title="添加数据"></a>添加数据</h4><p>指定字段：<br><code>INSERT INTO 表名 (字段名1, 字段名2, ...) VALUES (值1, 值2, ...);</code><br>全部字段：<br><code>INSERT INTO 表名 VALUES (值1, 值2, ...);</code></p><p>批量添加数据：<br><code>INSERT INTO 表名 (字段名1, 字段名2, ...) VALUES (值1, 值2, ...), (值1, 值2, ...), (值1, 值2, ...);</code><br><code>INSERT INTO 表名 VALUES (值1, 值2, ...), (值1, 值2, ...), (值1, 值2, ...);</code></p><h5 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h5><ul><li><strong>字符串</strong>和<strong>日期类型</strong>数据应该包含在引号中</li><li>插入的数据大小应该在字段的规定范围内</li></ul><h4 id="更新和删除数据"><a href="#更新和删除数据" class="headerlink" title="更新和删除数据"></a>更新和删除数据</h4><p>修改数据：<br><code>UPDATE 表名 SET 字段名1 = 值1, 字段名2 = 值2, ... [ WHERE 条件 ];</code><br>例：<br><code>UPDATE emp SET name = &#39;Jack&#39; WHERE id = 1;</code></p><p>删除数据：<br><code>DELETE FROM 表名 [ WHERE 条件 ];</code></p><h3 id="DQL（数据查询语言）"><a href="#DQL（数据查询语言）" class="headerlink" title="DQL（数据查询语言）"></a>DQL（数据查询语言）</h3><p>语法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line"></span><br><span class="line">SELECT</span><br><span class="line">字段列表</span><br><span class="line">FROM</span><br><span class="line">表名字段</span><br><span class="line">WHERE</span><br><span class="line">条件列表</span><br><span class="line">GROUP BY</span><br><span class="line">分组字段列表</span><br><span class="line">HAVING</span><br><span class="line">分组后的条件列表</span><br><span class="line">ORDER BY</span><br><span class="line">排序字段列表</span><br><span class="line">LIMIT</span><br><span class="line">分页参数</span><br></pre></td></tr></table></figure><h4 id="基础查询"><a href="#基础查询" class="headerlink" title="基础查询"></a>基础查询</h4><p>查询多个字段：<br><code>SELECT 字段1, 字段2, 字段3, ... FROM 表名;</code><br><code>SELECT * FROM 表名;</code></p><p>设置别名：<br><code>SELECT 字段1 [ AS 别名1 ], 字段2 [ AS 别名2 ], 字段3 [ AS 别名3 ], ... FROM 表名;</code><br><code>SELECT 字段1 [ 别名1 ], 字段2 [ 别名2 ], 字段3 [ 别名3 ], ... FROM 表名;</code></p><p>去除重复记录：<br><code>SELECT DISTINCT 字段列表 FROM 表名;</code></p><p>转义：<br><code>SELECT * FROM 表名 WHERE name LIKE &#39;/_张三&#39; ESCAPE &#39;/&#39;</code><br>&#x2F; 之后的_不作为通配符</p><h4 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h4><p>语法：<br><code>SELECT 字段列表 FROM 表名 WHERE 条件列表;</code></p><p>条件：</p><table><thead><tr><th>比较运算符</th><th>功能</th></tr></thead><tbody><tr><td>&gt;</td><td>大于</td></tr><tr><td>&gt;&#x3D;</td><td>大于等于</td></tr><tr><td>&lt;</td><td>小于</td></tr><tr><td>&lt;&#x3D;</td><td>小于等于</td></tr><tr><td>&#x3D;</td><td>等于</td></tr><tr><td>&lt;&gt; 或！&#x3D;</td><td>不等于</td></tr><tr><td>BETWEEN … AND …</td><td>在某个范围内（含最小、最大值）</td></tr><tr><td>IN(…)</td><td>在 in 之后的列表中的值，多选一</td></tr><tr><td>LIKE 占位符</td><td>模糊匹配（_匹配单个字符，% 匹配任意个字符）</td></tr><tr><td>IS NULL</td><td>是 NULL</td></tr></tbody></table><table><thead><tr><th>逻辑运算符</th><th>功能</th></tr></thead><tbody><tr><td>AND 或 &amp;&amp;</td><td>并且（多个条件同时成立）</td></tr><tr><td>OR 或 ||</td><td>或者（多个条件任意一个成立）</td></tr><tr><td>NOT 或！</td><td>非，不是</td></tr></tbody></table><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line"></span><br><span class="line">-- 年龄等于30</span><br><span class="line">select * from employee where age = 30;</span><br><span class="line">-- 年龄小于30</span><br><span class="line">select * from employee where age &lt; 30;</span><br><span class="line">-- 小于等于</span><br><span class="line">select * from employee where age &lt;= 30;</span><br><span class="line">-- 没有身份证</span><br><span class="line">select * from employee where idcard is null or idcard = &#x27;&#x27;;</span><br><span class="line">-- 有身份证</span><br><span class="line">select * from employee where idcard;</span><br><span class="line">select * from employee where idcard is not null;</span><br><span class="line">-- 不等于</span><br><span class="line">select * from employee where age != 30;</span><br><span class="line">-- 年龄在20到30之间</span><br><span class="line">select * from employee where age between 20 and 30;</span><br><span class="line">select * from employee where age &gt;= 20 and age &lt;= 30;</span><br><span class="line">-- 下面语句不报错，但查不到任何信息</span><br><span class="line">select * from employee where age between 30 and 20;</span><br><span class="line">-- 性别为女且年龄小于30</span><br><span class="line">select * from employee where age &lt; 30 and gender = &#x27;女&#x27;;</span><br><span class="line">-- 年龄等于25或30或35</span><br><span class="line">select * from employee where age = 25 or age = 30 or age = 35;</span><br><span class="line">select * from employee where age in (25, 30, 35);</span><br><span class="line">-- 姓名为两个字</span><br><span class="line">select * from employee where name like &#x27;__&#x27;;</span><br><span class="line">-- 身份证最后为X</span><br><span class="line">select * from employee where idcard like &#x27;%X&#x27;;</span><br></pre></td></tr></table></figure><h4 id="聚合查询（聚合函数）"><a href="#聚合查询（聚合函数）" class="headerlink" title="聚合查询（聚合函数）"></a>聚合查询（聚合函数）</h4><p>常见聚合函数 (null 值不参与聚合函数运算)：</p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>count</td><td>统计数量</td></tr><tr><td>max</td><td>最大值</td></tr><tr><td>min</td><td>最小值</td></tr><tr><td>avg</td><td>平均值</td></tr><tr><td>sum</td><td>求和</td></tr></tbody></table><p>语法：<br><code>SELECT 聚合函数(字段列表) FROM 表名;</code><br>例：<br><code>SELECT count(id) from employee where workaddress = &quot;广东省&quot;;</code></p><h4 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h4><p>语法：<br><code>SELECT 字段列表 FROM 表名 [ WHERE 条件 ] GROUP BY 分组字段名 [ HAVING 分组后的过滤条件 ];</code></p><p>where 和 having 的区别：</p><ul><li>执行时机不同：where 是分组之前进行过滤，不满足 where 条件不参与分组；having 是分组后对结果进行过滤。</li><li>判断条件不同：where 不能对聚合函数进行判断，而 having 可以。</li></ul><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- 根据性别分组，统计男性和女性数量（只显示分组数量，不显示哪个是男哪个是女）</span><br><span class="line">select count(*) from employee group by gender;</span><br><span class="line">-- 根据性别分组，统计男性和女性数量</span><br><span class="line">select gender, count(*) from employee group by gender;</span><br><span class="line">-- 根据性别分组，统计男性和女性的平均年龄</span><br><span class="line">select gender, avg(age) from employee group by gender;</span><br><span class="line">-- 年龄小于45，并根据工作地址分组</span><br><span class="line">select workaddress, count(*) from employee where age &lt; 45 group by workaddress;</span><br><span class="line">-- 年龄小于45，并根据工作地址分组，获取员工数量大于等于3的工作地址</span><br><span class="line">select workaddress, count(*) address_count from employee where age &lt; 45 group by workaddress having address_count &gt;= 3;</span><br></pre></td></tr></table></figure><h5 id="注意事项-2"><a href="#注意事项-2" class="headerlink" title="注意事项"></a>注意事项</h5><ul><li>执行顺序：where &gt; 聚合函数 &gt; having</li><li>分组之后，查询的字段一般为<strong>聚合函数</strong>和<strong>分组字段</strong>，查询其他字段无任何意义</li></ul><h4 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h4><p>语法：<br><code>SELECT 字段列表 FROM 表名 ORDER BY 字段1 排序方式1, 字段2 排序方式2;</code></p><p>排序方式：</p><ul><li>ASC: 升序（默认）</li><li>DESC: 降序</li></ul><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- 根据年龄升序排序</span><br><span class="line">SELECT * FROM employee ORDER BY age ASC;</span><br><span class="line">SELECT * FROM employee ORDER BY age;</span><br><span class="line">-- 两字段排序，根据年龄升序排序，入职时间降序排序</span><br><span class="line">SELECT * FROM employee ORDER BY age ASC, entrydate DESC;</span><br></pre></td></tr></table></figure><h5 id="注意事项-3"><a href="#注意事项-3" class="headerlink" title="注意事项"></a>注意事项</h5><p>如果是多字段排序，当第一个字段值相同时，才会根据第二个字段进行排序</p><h4 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h4><p>语法：<br><code>SELECT 字段列表 FROM 表名 LIMIT 起始索引, 查询记录数;</code></p><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- 查询第一页数据，展示10条</span><br><span class="line">SELECT * FROM employee LIMIT 0, 10;</span><br><span class="line">-- 查询第二页</span><br><span class="line">SELECT * FROM employee LIMIT 10, 10;</span><br></pre></td></tr></table></figure><h5 id="注意事项-4"><a href="#注意事项-4" class="headerlink" title="注意事项"></a>注意事项</h5><ul><li>起始索引从 0 开始，起始索引 &#x3D; （查询页码 - 1） * 每页显示记录数</li><li>分页查询是数据库的方言，不同数据库有不同实现，MySQL 是 LIMIT</li><li>如果查询的是第一页数据，起始索引可以省略，直接简写 LIMIT 10</li></ul><h4 id="DQL-执行顺序"><a href="#DQL-执行顺序" class="headerlink" title="DQL 执行顺序"></a>DQL 执行顺序</h4><p>1.FROM (从哪张表查询) -&gt; 2.WHERE (对数据进行筛选) -&gt; 3.GROUP BY (对筛选的数据进行分组) -&gt; 4.HAVING (分组后的条件列表)-&gt; 5.SELECT (选择对应数据) -&gt; 6.ORDER BY (对结果排序) -&gt; 7.LIMIT (对结果分页)</p><h3 id="DCL"><a href="#DCL" class="headerlink" title="DCL"></a>DCL</h3><h4 id="管理用户"><a href="#管理用户" class="headerlink" title="管理用户"></a>管理用户</h4><p>查询用户：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">USER mysql;</span><br><span class="line">SELECT * FROM user;</span><br></pre></td></tr></table></figure><p>创建用户:<br><code>CREATE USER &#39;用户名&#39;@&#39;主机名&#39; IDENTIFIED BY &#39;密码&#39;;</code></p><p>修改用户密码：<br><code>ALTER USER &#39;用户名&#39;@&#39;主机名&#39; IDENTIFIED WITH mysql_native_password BY &#39;新密码&#39;;</code></p><p>删除用户：<br><code>DROP USER &#39;用户名&#39;@&#39;主机名&#39;;</code></p><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- 创建用户test，只能在当前主机localhost访问</span><br><span class="line">create user &#x27;test&#x27;@&#x27;localhost&#x27; identified by &#x27;123456&#x27;;</span><br><span class="line">-- 创建用户test，能在任意主机访问</span><br><span class="line">create user &#x27;test&#x27;@&#x27;%&#x27; identified by &#x27;123456&#x27;;</span><br><span class="line">create user &#x27;test&#x27; identified by &#x27;123456&#x27;;</span><br><span class="line">-- 修改密码</span><br><span class="line">alter user &#x27;test&#x27;@&#x27;localhost&#x27; identified with mysql_native_password by &#x27;1234&#x27;;</span><br><span class="line">-- 删除用户</span><br><span class="line">drop user &#x27;test&#x27;@&#x27;localhost&#x27;;</span><br></pre></td></tr></table></figure><h5 id="注意事项-5"><a href="#注意事项-5" class="headerlink" title="注意事项"></a>注意事项</h5><ul><li>主机名可以使用 % 通配</li></ul><h4 id="权限控制"><a href="#权限控制" class="headerlink" title="权限控制"></a>权限控制</h4><p>常用权限：</p><table><thead><tr><th>权限</th><th>说明</th></tr></thead><tbody><tr><td>ALL, ALL PRIVILEGES</td><td>所有权限</td></tr><tr><td>SELECT</td><td>查询数据</td></tr><tr><td>INSERT</td><td>插入数据</td></tr><tr><td>UPDATE</td><td>修改数据</td></tr><tr><td>DELETE</td><td>删除数据</td></tr><tr><td>ALTER</td><td>修改表</td></tr><tr><td>DROP</td><td>删除数据库 &#x2F; 表 &#x2F; 视图</td></tr><tr><td>CREATE</td><td>创建数据库 &#x2F; 表</td></tr></tbody></table><p>更多权限请看<a href="https://www.fomal.cc/posts/54ed288e.html#%E6%9D%83%E9%99%90%E4%B8%80%E8%A7%88%E8%A1%A8">权限一览表</a></p><p>查询权限：<br><code>SHOW GRANTS FOR &#39;用户名&#39;@&#39;主机名&#39;;</code></p><p>授予权限：<br><code>GRANT 权限列表 ON 数据库名.表名 TO &#39;用户名&#39;@&#39;主机名&#39;;</code></p><p>撤销权限：<br><code>REVOKE 权限列表 ON 数据库名.表名 FROM &#39;用户名&#39;@&#39;主机名&#39;;</code></p><h5 id="注意事项-6"><a href="#注意事项-6" class="headerlink" title="注意事项"></a>注意事项</h5><ul><li>多个权限用逗号分隔</li><li>授权时，数据库名和表名可以用 * 进行通配，代表所有</li></ul><h2 id="1-2-函数"><a href="#1-2-函数" class="headerlink" title="1.2 函数"></a>1.2 函数</h2><ul><li>字符串函数</li><li>数值函数</li><li>日期函数</li><li>流程函数</li></ul><h3 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h3><p>常用函数：</p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>CONCAT(s1, s2, …, sn)</td><td>字符串拼接，将 s1, s2, …, sn 拼接成一个字符串</td></tr><tr><td>LOWER(str)</td><td>将字符串全部转为小写</td></tr><tr><td>UPPER(str)</td><td>将字符串全部转为大写</td></tr><tr><td>LPAD(str, n, pad)</td><td>左填充，用字符串 pad 对 str 的左边进行填充，达到 n 个字符串长度</td></tr><tr><td>RPAD(str, n, pad)</td><td>右填充，用字符串 pad 对 str 的右边进行填充，达到 n 个字符串长度</td></tr><tr><td>TRIM(str)</td><td>去掉字符串头部和尾部的空格</td></tr><tr><td>SUBSTRING(str, start, len)</td><td>返回从字符串 str 从 start 位置起的 len 个长度的字符串（注意索引从 1 开始）</td></tr></tbody></table><p>使用示例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line"></span><br><span class="line">-- 拼接</span><br><span class="line">SELECT CONCAT(&#x27;Hello&#x27;, &#x27;World&#x27;);</span><br><span class="line">-- 小写</span><br><span class="line">SELECT LOWER(&#x27;Hello&#x27;);</span><br><span class="line">-- 大写</span><br><span class="line">SELECT UPPER(&#x27;Hello&#x27;);</span><br><span class="line">-- 左填充</span><br><span class="line">SELECT LPAD(&#x27;01&#x27;, 5, &#x27;-&#x27;);</span><br><span class="line">-- 右填充</span><br><span class="line">SELECT RPAD(&#x27;01&#x27;, 5, &#x27;-&#x27;);</span><br><span class="line">-- 去除空格</span><br><span class="line">SELECT TRIM(&#x27; Hello World &#x27;);</span><br><span class="line">-- 切片（起始索引为1）</span><br><span class="line">SELECT SUBSTRING(&#x27;Hello World&#x27;, 1, 5);</span><br></pre></td></tr></table></figure><h3 id="数值函数"><a href="#数值函数" class="headerlink" title="数值函数"></a>数值函数</h3><p>常见函数：</p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>CEIL(x)</td><td>向上取整</td></tr><tr><td>FLOOR(x)</td><td>向下取整</td></tr><tr><td>MOD(x, y)</td><td>返回 x&#x2F;y 的模</td></tr><tr><td>RAND()</td><td>返回 0~1 内的随机数</td></tr><tr><td>ROUND(x, y)</td><td>求参数 x 的四舍五入值，保留 y 位小数</td></tr></tbody></table><h3 id="日期函数"><a href="#日期函数" class="headerlink" title="日期函数"></a>日期函数</h3><p>常用函数：</p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>CURDATE()</td><td>返回当前日期</td></tr><tr><td>CURTIME()</td><td>返回当前时间</td></tr><tr><td>NOW()</td><td>返回当前日期和时间</td></tr><tr><td>YEAR(date)</td><td>获取指定 date 的年份</td></tr><tr><td>MONTH(date)</td><td>获取指定 date 的月份</td></tr><tr><td>DAY(date)</td><td>获取指定 date 的日期</td></tr><tr><td>DATE_ADD(date, INTERVAL expr type)</td><td>返回一个日期 &#x2F; 时间值加上一个时间间隔 expr 后的时间值</td></tr><tr><td>DATEDIFF(date1, date2)</td><td>返回起始时间 date1 和结束时间 date2 之间的天数</td></tr></tbody></table><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- DATE_ADD</span><br><span class="line">SELECT DATE_ADD(NOW(), INTERVAL 70 YEAR);</span><br></pre></td></tr></table></figure><h3 id="流程函数"><a href="#流程函数" class="headerlink" title="流程函数"></a>流程函数</h3><p>常用函数：</p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>IF(value, t, f)</td><td>如果 value 为 true，则返回 t，否则返回 f</td></tr><tr><td>IFNULL(value1, value2)</td><td>如果 value1 不为空，返回 value1，否则返回 value2</td></tr><tr><td>CASE WHEN [ val1 ] THEN [ res1 ] … ELSE [ default ] END</td><td>如果 val1 为 true，返回 res1，… 否则返回 default 默认值</td></tr><tr><td>CASE [ expr ] WHEN [ val1 ] THEN [ res1 ] … ELSE [ default ] END</td><td>如果 expr 的值等于 val1，返回 res1，… 否则返回 default 默认值</td></tr></tbody></table><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">select</span><br><span class="line">name,</span><br><span class="line">(case when age &gt; 30 then &#x27;中年&#x27; else &#x27;青年&#x27; end)</span><br><span class="line">from employee;</span><br><span class="line">select</span><br><span class="line">name,</span><br><span class="line">(case workaddress when &#x27;北京市&#x27; then &#x27;一线城市&#x27; when &#x27;上海市&#x27; then &#x27;一线城市&#x27; else &#x27;二线城市&#x27; end) as &#x27;工作地址&#x27;</span><br><span class="line">from employee;</span><br></pre></td></tr></table></figure><h2 id="1-3-约束"><a href="#1-3-约束" class="headerlink" title="1.3 约束"></a>1.3 约束</h2><p>分类：</p><table><thead><tr><th>约束</th><th>描述</th><th>关键字</th></tr></thead><tbody><tr><td>非空约束</td><td>限制该字段的数据不能为 null</td><td>NOT NULL</td></tr><tr><td>唯一约束</td><td>保证该字段的所有数据都是唯一、不重复的</td><td>UNIQUE</td></tr><tr><td>主键约束</td><td>主键是一行数据的唯一标识，要求非空且唯一</td><td>PRIMARY KEY</td></tr><tr><td>默认约束</td><td>保存数据时，如果未指定该字段的值，则采用默认值</td><td>DEFAULT</td></tr><tr><td>检查约束（8.0.1 版本后）</td><td>保证字段值满足某一个条件</td><td>CHECK</td></tr><tr><td>外键约束</td><td>用来让两张表的数据之间建立连接，保证数据的一致性和完整性</td><td>FOREIGN KEY</td></tr></tbody></table><p><strong>约束是作用于表中字段上的，可以再创建表 &#x2F; 修改表的时候添加约束</strong>。</p><h3 id="常用约束"><a href="#常用约束" class="headerlink" title="常用约束"></a>常用约束</h3><table><thead><tr><th>约束条件</th><th>关键字</th></tr></thead><tbody><tr><td>主键</td><td>PRIMARY KEY</td></tr><tr><td>自动增长</td><td>AUTO_INCREMENT</td></tr><tr><td>不为空</td><td>NOT NULL</td></tr><tr><td>唯一</td><td>UNIQUE</td></tr><tr><td>逻辑条件</td><td>CHECK</td></tr><tr><td>默认值</td><td>DEFAULT</td></tr></tbody></table><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">create table user(</span><br><span class="line">id int primary key auto_increment,</span><br><span class="line">name varchar(10) not null unique,</span><br><span class="line">age int check(age &gt; 0 and age &lt; 120),</span><br><span class="line">status char(1) default &#x27;1&#x27;,</span><br><span class="line">gender char(1)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="外键约束"><a href="#外键约束" class="headerlink" title="外键约束"></a>外键约束</h3><p>作用：保证数据一致性与完整性</p><p>添加外键：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">CREATE TABLE 表名(</span><br><span class="line">字段名 字段类型,</span><br><span class="line">...</span><br><span class="line">[CONSTRAINT] [外键名称] FOREIGN KEY(外键字段名) REFERENCES 主表(主表列名)</span><br><span class="line">);</span><br><span class="line">ALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY (外键字段名) REFERENCES 主表(主表列名);</span><br><span class="line"></span><br><span class="line">-- 例子</span><br><span class="line">alter table emp add constraint fk_emp_dept_id foreign key(dept_id) references dept(id);</span><br></pre></td></tr></table></figure><p>删除外键：<br><code>ALTER TABLE 表名 DROP FOREIGN KEY 外键名;</code></p><h4 id="删除-x2F-更新行为"><a href="#删除-x2F-更新行为" class="headerlink" title="删除 &#x2F; 更新行为"></a>删除 &#x2F; 更新行为</h4><table><thead><tr><th>行为</th><th>说明</th></tr></thead><tbody><tr><td>NO ACTION</td><td>当在父表中删除 &#x2F; 更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除 &#x2F; 更新（与 RESTRICT 一致）</td></tr><tr><td>RESTRICT</td><td>当在父表中删除 &#x2F; 更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除 &#x2F; 更新（与 NO ACTION 一致）</td></tr><tr><td>CASCADE</td><td>当在父表中删除 &#x2F; 更新对应记录时，首先检查该记录是否有对应外键，如果有则也删除 &#x2F; 更新外键在子表中的记录</td></tr><tr><td>SET NULL</td><td>当在父表中删除 &#x2F; 更新对应记录时，首先检查该记录是否有对应外键，如果有则设置子表中该外键值为 null（要求该外键允许为 null）</td></tr><tr><td>SET DEFAULT</td><td>父表有变更时，子表将外键设为一个默认值（Innodb 不支持）</td></tr></tbody></table><p>更改删除 &#x2F; 更新行为：<br><code>ALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY (外键字段) REFERENCES 主表名(主表字段名) ON UPDATE 行为 ON DELETE 行为;</code></p><h2 id="1-4-多表查询"><a href="#1-4-多表查询" class="headerlink" title="1.4 多表查询"></a>1.4 多表查询</h2><h3 id="多表关系"><a href="#多表关系" class="headerlink" title="多表关系"></a>多表关系</h3><ul><li>一对多（多对一）</li><li>多对多</li><li>一对一</li></ul><h4 id="一对多"><a href="#一对多" class="headerlink" title="一对多"></a>一对多</h4><p>案例：部门与员工<br>关系：一个部门对应多个员工，一个员工对应一个部门<br>实现：在多的一方建立外键，指向一的一方的主键</p><h4 id="多对多"><a href="#多对多" class="headerlink" title="多对多"></a>多对多</h4><p>案例：学生与课程<br>关系：一个学生可以选多门课程，一门课程也可以供多个学生选修<br>实现：建立第三张中间表，中间表至少包含两个外键，分别关联两方主键</p><h4 id="一对一"><a href="#一对一" class="headerlink" title="一对一"></a>一对一</h4><p>案例：用户与用户详情<br>关系：一对一关系，多用于单表拆分，将一张表的基础字段放在一张表中，其他详情字段放在另一张表中，以提升操作效率<br>实现：在任意一方加入外键，关联另外一方的主键，并且设置外键为唯一的（UNIQUE）</p><h3 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h3><p>合并查询（笛卡尔积，会展示所有组合结果）：<br><code>select * from employee, dept;</code></p><blockquote><p>笛卡尔积：两个集合 A 集合和 B 集合的所有组合情况（在多表查询时，需要消除无效的笛卡尔积）</p></blockquote><p>消除无效笛卡尔积：<br><code>select * from employee, dept where employee.dept = dept.id;</code></p><h3 id="内连接查询"><a href="#内连接查询" class="headerlink" title="内连接查询"></a>内连接查询</h3><p>内连接查询的是两张表交集的部分</p><p>隐式内连接：<br><code>SELECT 字段列表 FROM 表1, 表2 WHERE 条件 ...;</code></p><p>显式内连接：<br><code>SELECT 字段列表 FROM 表1 [ INNER ] JOIN 表2 ON 连接条件 ...;</code></p><p>显式性能比隐式高</p><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- 查询员工姓名，及关联的部门的名称</span><br><span class="line">-- 隐式</span><br><span class="line">select e.name, d.name from employee as e, dept as d where e.dept = d.id;</span><br><span class="line">-- 显式</span><br><span class="line">select e.name, d.name from employee as e inner join dept as d on e.dept = d.id;</span><br></pre></td></tr></table></figure><h3 id="外连接查询"><a href="#外连接查询" class="headerlink" title="外连接查询"></a>外连接查询</h3><p>左外连接：<br>查询左表所有数据，以及两张表交集部分数据<br><code>SELECT 字段列表 FROM 表1 LEFT [ OUTER ] JOIN 表2 ON 条件 ...;</code><br>相当于查询表 1 的所有数据，包含表 1 和表 2 交集部分数据</p><p>右外连接：<br>查询右表所有数据，以及两张表交集部分数据<br><code>SELECT 字段列表 FROM 表1 RIGHT [ OUTER ] JOIN 表2 ON 条件 ...;</code></p><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- 左</span><br><span class="line">select e.*, d.name from employee as e left outer join dept as d on e.dept = d.id;</span><br><span class="line">select d.name, e.* from dept d left outer join emp e on e.dept = d.id;  -- 这条语句与下面的语句效果一样</span><br><span class="line">-- 右</span><br><span class="line">select d.name, e.* from employee as e right outer join dept as d on e.dept = d.id;</span><br></pre></td></tr></table></figure><p>左连接可以查询到没有 dept 的 employee，右连接可以查询到没有 employee 的 dept</p><h3 id="自连接查询"><a href="#自连接查询" class="headerlink" title="自连接查询"></a>自连接查询</h3><p>当前表与自身的连接查询，自连接必须使用表别名</p><p>语法：<br><code>SELECT 字段列表 FROM 表A 别名A JOIN 表A 别名B ON 条件 ...;</code></p><p>自连接查询，可以是内连接查询，也可以是外连接查询</p><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- 查询员工及其所属领导的名字</span><br><span class="line">select a.name, b.name from employee a, employee b where a.manager = b.id;</span><br><span class="line">-- 没有领导的也查询出来</span><br><span class="line">select a.name, b.name from employee a left join employee b on a.manager = b.id;</span><br></pre></td></tr></table></figure><h3 id="联合查询-union-union-all"><a href="#联合查询-union-union-all" class="headerlink" title="联合查询 union, union all"></a>联合查询 union, union all</h3><p>把多次查询的结果合并，形成一个新的查询集</p><p>语法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">SELECT 字段列表 FROM 表A ...</span><br><span class="line">UNION [ALL]</span><br><span class="line">SELECT 字段列表 FROM 表B ...</span><br></pre></td></tr></table></figure><h4 id="注意事项-7"><a href="#注意事项-7" class="headerlink" title="注意事项"></a>注意事项</h4><ul><li>UNION ALL 会有重复结果，UNION 不会</li><li>联合查询比使用 or 效率高，不会使索引失效</li></ul><h3 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h3><p>SQL 语句中嵌套 SELECT 语句，称谓嵌套查询，又称子查询。<br><code>SELECT * FROM t1 WHERE column1 = ( SELECT column1 FROM t2);</code><br><strong>子查询外部的语句可以是 INSERT &#x2F; UPDATE &#x2F; DELETE &#x2F; SELECT 的任何一个</strong></p><p>根据子查询结果可以分为：</p><ul><li>标量子查询（子查询结果为单个值）</li><li>列子查询（子查询结果为一列）</li><li>行子查询（子查询结果为一行）</li><li>表子查询（子查询结果为多行多列）</li></ul><p>根据子查询位置可分为：</p><ul><li>WHERE 之后</li><li>FROM 之后</li><li>SELECT 之后</li></ul><h4 id="标量子查询"><a href="#标量子查询" class="headerlink" title="标量子查询"></a>标量子查询</h4><p>子查询返回的结果是单个值（数字、字符串、日期等）。<br>常用操作符：- &lt;&gt;&gt; &gt;&#x3D; &lt; &lt;&#x3D;</p><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- 查询销售部所有员工</span><br><span class="line">select id from dept where name = &#x27;销售部&#x27;;</span><br><span class="line">-- 根据销售部部门ID，查询员工信息</span><br><span class="line">select * from employee where dept = 4;</span><br><span class="line">-- 合并（子查询）</span><br><span class="line">select * from employee where dept = (select id from dept where name = &#x27;销售部&#x27;);</span><br><span class="line"></span><br><span class="line">-- 查询xxx入职之后的员工信息</span><br><span class="line">select * from employee where entrydate &gt; (select entrydate from employee where name = &#x27;xxx&#x27;);</span><br></pre></td></tr></table></figure><h4 id="列子查询"><a href="#列子查询" class="headerlink" title="列子查询"></a>列子查询</h4><p>返回的结果是一列（可以是多行）。</p><p>常用操作符：</p><table><thead><tr><th>操作符</th><th>描述</th></tr></thead><tbody><tr><td>IN</td><td>在指定的集合范围内，多选一</td></tr><tr><td>NOT IN</td><td>不在指定的集合范围内</td></tr><tr><td>ANY</td><td>子查询返回列表中，有任意一个满足即可</td></tr><tr><td>SOME</td><td>与 ANY 等同，使用 SOME 的地方都可以使用 ANY</td></tr><tr><td>ALL</td><td>子查询返回列表的所有值都必须满足</td></tr></tbody></table><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- 查询销售部和市场部的所有员工信息</span><br><span class="line">select * from employee where dept in (select id from dept where name = &#x27;销售部&#x27; or name = &#x27;市场部&#x27;);</span><br><span class="line">-- 查询比财务部所有人工资都高的员工信息</span><br><span class="line">select * from employee where salary &gt; all(select salary from employee where dept = (select id from dept where name = &#x27;财务部&#x27;));</span><br><span class="line">-- 查询比研发部任意一人工资高的员工信息</span><br><span class="line">select * from employee where salary &gt; any (select salary from employee where dept = (select id from dept where name = &#x27;研发部&#x27;));</span><br></pre></td></tr></table></figure><h4 id="行子查询"><a href="#行子查询" class="headerlink" title="行子查询"></a>行子查询</h4><p>返回的结果是一行（可以是多列）。<br>常用操作符：&#x3D;, &lt;,&gt;, IN, NOT IN</p><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- 查询与xxx的薪资及直属领导相同的员工信息</span><br><span class="line">select * from employee where (salary, manager) = (12500, 1);</span><br><span class="line">select * from employee where (salary, manager) = (select salary, manager from employee where name = &#x27;xxx&#x27;);</span><br></pre></td></tr></table></figure><h4 id="表子查询"><a href="#表子查询" class="headerlink" title="表子查询"></a>表子查询</h4><p>返回的结果是多行多列<br>常用操作符：IN</p><p>例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- 查询与xxx1，xxx2的职位和薪资相同的员工</span><br><span class="line">select * from employee where (job, salary) in (select job, salary from employee where name = &#x27;xxx1&#x27; or name = &#x27;xxx2&#x27;);</span><br><span class="line">-- 查询入职日期是2006-01-01之后的员工，及其部门信息</span><br><span class="line">select e.*, d.* from (select * from employee where entrydate &gt; &#x27;2006-01-01&#x27;) as e left join dept as d on e.dept = d.id;</span><br></pre></td></tr></table></figure><h2 id="1-5-事务"><a href="#1-5-事务" class="headerlink" title="1.5 事务"></a>1.5 事务</h2><p>事务是一组操作的集合，事务会把所有操作作为一个整体一起向系统提交或撤销操作请求，即这些操作要么同时成功，要么同时失败。</p><p>基本操作：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line"></span><br><span class="line">-- 1. 查询张三账户余额</span><br><span class="line">select * from account where name = &#x27;张三&#x27;;</span><br><span class="line">-- 2. 将张三账户余额-1000</span><br><span class="line">update account set money = money - 1000 where name = &#x27;张三&#x27;;</span><br><span class="line">-- 此语句出错后张三钱减少但是李四钱没有增加</span><br><span class="line">模拟sql语句错误</span><br><span class="line">-- 3. 将李四账户余额+1000</span><br><span class="line">update account set money = money + 1000 where name = &#x27;李四&#x27;;</span><br><span class="line"></span><br><span class="line">-- 查看事务提交方式</span><br><span class="line">SELECT @@AUTOCOMMIT;</span><br><span class="line">-- 设置事务提交方式，1为自动提交，0为手动提交，该设置只对当前会话有效</span><br><span class="line">SET @@AUTOCOMMIT = 0;</span><br><span class="line">-- 提交事务</span><br><span class="line">COMMIT;</span><br><span class="line">-- 回滚事务</span><br><span class="line">ROLLBACK;</span><br><span class="line"></span><br><span class="line">-- 设置手动提交后上面代码改为：</span><br><span class="line">select * from account where name = &#x27;张三&#x27;;</span><br><span class="line">update account set money = money - 1000 where name = &#x27;张三&#x27;;</span><br><span class="line">update account set money = money + 1000 where name = &#x27;李四&#x27;;</span><br><span class="line">commit;</span><br></pre></td></tr></table></figure><p>操作方式二：</p><p>开启事务：<br><code>START TRANSACTION 或 BEGIN TRANSACTION;</code><br>提交事务：<br><code>COMMIT;</code><br>回滚事务：<br><code>ROLLBACK;</code></p><p>操作实例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">start transaction;</span><br><span class="line">select * from account where name = &#x27;张三&#x27;;</span><br><span class="line">update account set money = money - 1000 where name = &#x27;张三&#x27;;</span><br><span class="line">update account set money = money + 1000 where name = &#x27;李四&#x27;;</span><br><span class="line">commit;</span><br></pre></td></tr></table></figure><h3 id="四大特性-ACID"><a href="#四大特性-ACID" class="headerlink" title="四大特性 ACID"></a>四大特性 ACID</h3><ul><li>原子性 (Atomicity)：事务是不可分割的最小操作但愿，要么全部成功，要么全部失败</li><li>一致性 (Consistency)：事务完成时，必须使所有数据都保持一致状态</li><li>隔离性 (Isolation)：数据库系统提供的隔离机制，保证事务在不受外部并发操作影响的独立环境下运行</li><li>持久性 (Durability)：事务一旦提交或回滚，它对数据库中的数据的改变就是永久的</li></ul><h3 id="并发事务"><a href="#并发事务" class="headerlink" title="并发事务"></a>并发事务</h3><table><thead><tr><th>问题</th><th>描述</th></tr></thead><tbody><tr><td>脏读</td><td>一个事务读到另一个事务还没提交的数据</td></tr><tr><td>不可重复读</td><td>一个事务先后读取同一条记录，但两次读取的数据不同</td></tr><tr><td>幻读</td><td>一个事务按照条件查询数据时，没有对应的数据行，但是再插入数据时，又发现这行数据已经存在</td></tr></tbody></table><blockquote><p>这三个问题的详细演示：<a href="https://www.bilibili.com/video/BV1Kr4y1i7ru?p=55cd">https://www.bilibili.com/video/BV1Kr4y1i7ru?p=55cd</a></p></blockquote><p>并发事务隔离级别：</p><table><thead><tr><th>隔离级别</th><th>脏读</th><th>不可重复读</th><th>幻读</th></tr></thead><tbody><tr><td>Read uncommitted</td><td>√</td><td>√</td><td>√</td></tr><tr><td>Read committed</td><td>×</td><td>√</td><td>√</td></tr><tr><td>Repeatable Read (默认)</td><td>×</td><td>×</td><td>√</td></tr><tr><td>Serializable</td><td>×</td><td>×</td><td>×</td></tr></tbody></table><ul><li>√ 表示在当前隔离级别下该问题会出现</li><li>Serializable 性能最低；Read uncommitted 性能最高，数据安全性最差</li></ul><p>查看事务隔离级别：<br><code>SELECT @@TRANSACTION_ISOLATION;</code><br>设置事务隔离级别：<br><code>SET [ SESSION | GLOBAL ] TRANSACTION ISOLATION LEVEL &#123;READ UNCOMMITTED | READ COMMITTED | REPEATABLE READ | SERIALIZABLE &#125;;</code><br>SESSION 是会话级别，表示只针对当前会话有效，GLOBAL 表示对所有会话有效</p><h1 id="2-进阶篇"><a href="#2-进阶篇" class="headerlink" title="2. 进阶篇"></a>2. 进阶篇</h1><h2 id="2-1-存储引擎"><a href="#2-1-存储引擎" class="headerlink" title="2.1 存储引擎"></a>2.1 存储引擎</h2><p>MySQL 体系结构：</p><p><a href="https://dhc.pythonanywhere.com/media/editor/MySQL%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84_20220315034329549927.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="结构图"></a><br><a href="https://dhc.pythonanywhere.com/media/editor/MySQL%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%B1%82%E7%BA%A7%E5%90%AB%E4%B9%89_20220315034359342837.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="层级描述"></a></p><p>存储引擎就是存储数据、建立索引、更新 &#x2F; 查询数据等技术的实现方式。存储引擎是基于表而不是基于库的，所以存储引擎也可以被称为表引擎。<br>默认存储引擎是 InnoDB。</p><p>相关操作：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- 查询建表语句</span><br><span class="line">show create table account;</span><br><span class="line">-- 建表时指定存储引擎</span><br><span class="line">CREATE TABLE 表名(</span><br><span class="line">...</span><br><span class="line">) ENGINE=INNODB;</span><br><span class="line">-- 查看当前数据库支持的存储引擎</span><br><span class="line">show engines;</span><br></pre></td></tr></table></figure><h3 id="InnoDB"><a href="#InnoDB" class="headerlink" title="InnoDB"></a>InnoDB</h3><p>InnoDB 是一种兼顾高可靠性和高性能的通用存储引擎，在 MySQL 5.5 之后，InnoDB 是默认的 MySQL 引擎。</p><p>特点：</p><ul><li>DML 操作遵循 ACID 模型，支持<strong>事务</strong></li><li><strong>行级锁</strong>，提高并发访问性能</li><li>支持<strong>外键</strong>约束，保证数据的完整性和正确性</li></ul><p>文件：</p><ul><li>xxx.ibd: xxx 代表表名，InnoDB 引擎的每张表都会对应这样一个表空间文件，存储该表的表结构（frm、sdi）、数据和索引。</li></ul><p>参数：innodb_file_per_table，决定多张表共享一个表空间还是每张表对应一个表空间</p><p>知识点：</p><p>查看 Mysql 变量：<br><code>show variables like &#39;innodb_file_per_table&#39;;</code></p><p>从 idb 文件提取表结构数据：<br>（在 cmd 运行）<br><code>ibd2sdi xxx.ibd</code></p><p>InnoDB 逻辑存储结构：<br><a href="https://dhc.pythonanywhere.com/media/editor/%E9%80%BB%E8%BE%91%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84_20220316030616590001.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="InnoDB逻辑存储结构"></a></p><h3 id="MyISAM"><a href="#MyISAM" class="headerlink" title="MyISAM"></a>MyISAM</h3><p>MyISAM 是 MySQL 早期的默认存储引擎。</p><p>特点：</p><ul><li>不支持事务，不支持外键</li><li>支持表锁，不支持行锁</li><li>访问速度快</li></ul><p>文件：</p><ul><li>xxx.sdi: 存储表结构信息</li><li>xxx.MYD: 存储数据</li><li>xxx.MYI: 存储索引</li></ul><h3 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h3><p>Memory 引擎的表数据是存储在内存中的，受硬件问题、断电问题的影响，只能将这些表作为临时表或缓存使用。</p><p>特点：</p><ul><li>存放在内存中，速度快</li><li>hash 索引（默认）</li></ul><p>文件：</p><ul><li>xxx.sdi: 存储表结构信息</li></ul><h3 id="存储引擎特点"><a href="#存储引擎特点" class="headerlink" title="存储引擎特点"></a>存储引擎特点</h3><table><thead><tr><th>特点</th><th>InnoDB</th><th>MyISAM</th><th>Memory</th></tr></thead><tbody><tr><td>存储限制</td><td>64TB</td><td>有</td><td>有</td></tr><tr><td>事务安全</td><td>支持</td><td>-</td><td>-</td></tr><tr><td>锁机制</td><td>行锁</td><td>表锁</td><td>表锁</td></tr><tr><td>B+tree 索引</td><td>支持</td><td>支持</td><td>支持</td></tr><tr><td>Hash 索引</td><td>-</td><td>-</td><td>支持</td></tr><tr><td>全文索引</td><td>支持（5.6 版本之后）</td><td>支持</td><td>-</td></tr><tr><td>空间使用</td><td>高</td><td>低</td><td>N&#x2F;A</td></tr><tr><td>内存使用</td><td>高</td><td>低</td><td>中等</td></tr><tr><td>批量插入速度</td><td>低</td><td>高</td><td>高</td></tr><tr><td>支持外键</td><td>支持</td><td>-</td><td>-</td></tr></tbody></table><h3 id="存储引擎的选择"><a href="#存储引擎的选择" class="headerlink" title="存储引擎的选择"></a>存储引擎的选择</h3><p>在选择存储引擎时，应该根据应用系统的特点选择合适的存储引擎。对于复杂的应用系统，还可以根据实际情况选择多种存储引擎进行组合。</p><ul><li>InnoDB: 如果应用对事物的完整性有比较高的要求，在并发条件下要求数据的一致性，数据操作除了插入和查询之外，还包含很多的更新、删除操作，则 InnoDB 是比较合适的选择</li><li>MyISAM: 如果应用是以读操作和插入操作为主，只有很少的更新和删除操作，并且对事务的完整性、并发性要求不高，那这个存储引擎是非常合适的。</li><li>Memory: 将所有数据保存在内存中，访问速度快，通常用于临时表及缓存。Memory 的缺陷是对表的大小有限制，太大的表无法缓存在内存中，而且无法保障数据的安全性</li></ul><p>电商中的足迹和评论适合使用 MyISAM 引擎，缓存适合使用 Memory 引擎。</p><h2 id="2-2-性能分析"><a href="#2-2-性能分析" class="headerlink" title="2.2 性能分析"></a>2.2 性能分析</h2><h3 id="查看执行频次"><a href="#查看执行频次" class="headerlink" title="查看执行频次"></a>查看执行频次</h3><p>查看当前数据库的 INSERT, UPDATE, DELETE, SELECT 访问频次：<br><code>SHOW GLOBAL STATUS LIKE &#39;Com_______&#39;;</code> 或者 <code>SHOW SESSION STATUS LIKE &#39;Com_______&#39;;</code><br>例：<code>show global status like &#39;Com_______&#39;</code></p><h3 id="慢查询日志"><a href="#慢查询日志" class="headerlink" title="慢查询日志"></a>慢查询日志</h3><p>慢查询日志记录了所有执行时间超过指定参数（long_query_time，单位：秒，默认 10 秒）的所有 SQL 语句的日志。<br>MySQL 的慢查询日志默认没有开启，需要在 MySQL 的配置文件（&#x2F;etc&#x2F;my.cnf）中配置如下信息： # 开启慢查询日志开关<br>slow_query_log&#x3D;1 # 设置慢查询日志的时间为 2 秒，SQL 语句执行时间超过 2 秒，就会视为慢查询，记录慢查询日志<br>long_query_time&#x3D;2<br>更改后记得重启 MySQL 服务，日志文件位置：&#x2F;var&#x2F;lib&#x2F;mysql&#x2F;localhost-slow.log</p><p>查看慢查询日志开关状态：<br><code>show variables like &#39;slow_query_log&#39;;</code></p><h3 id="profile"><a href="#profile" class="headerlink" title="profile"></a>profile</h3><p>show profile 能在做 SQL 优化时帮我们了解时间都耗费在哪里。通过 have_profiling 参数，能看到当前 MySQL 是否支持 profile 操作：<br><code>SELECT @@have_profiling;</code><br>profiling 默认关闭，可以通过 set 语句在 session&#x2F;global 级别开启 profiling：<br><code>SET profiling = 1;</code><br>查看所有语句的耗时：<br><code>show profiles;</code><br>查看指定 query_id 的 SQL 语句各个阶段的耗时：<br><code>show profile for query query_id;</code><br>查看指定 query_id 的 SQL 语句 CPU 的使用情况<br><code>show profile cpu for query query_id;</code></p><h3 id="explain"><a href="#explain" class="headerlink" title="explain"></a>explain</h3><p>EXPLAIN 或者 DESC 命令获取 MySQL 如何执行 SELECT 语句的信息，包括在 SELECT 语句执行过程中表如何连接和连接的顺序。<br>语法： # 直接在 select 语句之前加上关键字 explain &#x2F;desc<br>EXPLAIN SELECT 字段列表 FROM 表名 HWERE 条件；</p><p>EXPLAIN 各字段含义：</p><ul><li>id：select 查询的序列号，表示查询中执行 select 子句或者操作表的顺序（id 相同，执行顺序从上到下；id 不同，值越大越先执行）</li><li>select_type：表示 SELECT 的类型，常见取值有 SIMPLE（简单表，即不适用表连接或者子查询）、PRIMARY（主查询，即外层的查询）、UNION（UNION 中的第二个或者后面的查询语句）、SUBQUERY（SELECT&#x2F;WHERE 之后包含了子查询）等</li><li>type：表示连接类型，性能由好到差的连接类型为 NULL、system、const、eq_ref、ref、range、index、all</li><li>possible_key：可能应用在这张表上的索引，一个或多个</li><li>Key：实际使用的索引，如果为 NULL，则没有使用索引</li><li>Key_len：表示索引中使用的字节数，该值为索引字段最大可能长度，并非实际使用长度，在不损失精确性的前提下，长度越短越好</li><li>rows：MySQL 认为必须要执行的行数，在 InnoDB 引擎的表中，是一个估计值，可能并不总是准确的</li><li>filtered：表示返回结果的行数占需读取行数的百分比，filtered 的值越大越好</li></ul><h2 id="2-3-索引"><a href="#2-3-索引" class="headerlink" title="2.3 索引"></a>2.3 索引</h2><p>索引是帮助 MySQL <strong>高效获取数据</strong>的<strong>数据结构（有序）</strong>。在数据之外，数据库系统还维护着满足特定查找算法的数据结构，这些数据结构以某种方式引用（指向）数据，这样就可以在这些数据结构上实现高级查询算法，这种数据结构就是索引。</p><p>优缺点：</p><p>优点：</p><ul><li>提高数据检索效率，降低数据库的 IO 成本</li><li>通过索引列对数据进行排序，降低数据排序的成本，降低 CPU 的消耗</li></ul><p>缺点：</p><ul><li>索引列也是要占用空间的</li><li>索引大大提高了查询效率，但降低了更新的速度，比如 INSERT、UPDATE、DELETE</li></ul><h3 id="索引结构"><a href="#索引结构" class="headerlink" title="索引结构"></a>索引结构</h3><table><thead><tr><th>索引结构</th><th>描述</th></tr></thead><tbody><tr><td>B+Tree</td><td>最常见的索引类型，大部分引擎都支持 B + 树索引</td></tr><tr><td>Hash</td><td>底层数据结构是用哈希表实现，只有精确匹配索引列的查询才有效，不支持范围查询</td></tr><tr><td>R-Tree (空间索引)</td><td>空间索引是 MyISAM 引擎的一个特殊索引类型，主要用于地理空间数据类型，通常使用较少</td></tr><tr><td>Full-Text (全文索引)</td><td>是一种通过建立倒排索引，快速匹配文档的方式，类似于 Lucene, Solr, ES</td></tr></tbody></table><table><thead><tr><th>索引</th><th>InnoDB</th><th>MyISAM</th><th>Memory</th></tr></thead><tbody><tr><td>B+Tree 索引</td><td>支持</td><td>支持</td><td>支持</td></tr><tr><td>Hash 索引</td><td>不支持</td><td>不支持</td><td>支持</td></tr><tr><td>R-Tree 索引</td><td>不支持</td><td>支持</td><td>不支持</td></tr><tr><td>Full-text</td><td>5.6 版本后支持</td><td>支持</td><td>不支持</td></tr></tbody></table><h4 id="B-Tree"><a href="#B-Tree" class="headerlink" title="B-Tree"></a>B-Tree</h4><p><a href="https://dhc.pythonanywhere.com/media/editor/%E4%BA%8C%E5%8F%89%E6%A0%91_20220316153214227108.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="二叉树"></a></p><p>二叉树的缺点可以用红黑树来解决：<br><a href="https://dhc.pythonanywhere.com/media/editor/%E7%BA%A2%E9%BB%91%E6%A0%91_20220316163142686602.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="红黑树"></a><br>红黑树也存在大数据量情况下，层级较深，检索速度慢的问题。</p><p>为了解决上述问题，可以使用 B-Tree 结构。<br>B-Tree (多路平衡查找树) 以一棵最大度数（max-degree，指一个节点的子节点个数）为 5（5 阶）的 b-tree 为例（每个节点最多存储 4 个 key，5 个指针）</p><p><a href="https://dhc.pythonanywhere.com/media/editor/B-Tree%E7%BB%93%E6%9E%84_20220316163813441163.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="B-Tree结构"></a></p><blockquote><p>B-Tree 的数据插入过程动画参照：<a href="https://www.bilibili.com/video/BV1Kr4y1i7ru?p=68">https://www.bilibili.com/video/BV1Kr4y1i7ru?p=68</a><br>演示地址：<a href="https://www.cs.usfca.edu/~galles/visualization/BTree.html">https://www.cs.usfca.edu/~galles/visualization/BTree.html</a></p></blockquote><h4 id="B-Tree-1"><a href="#B-Tree-1" class="headerlink" title="B+Tree"></a>B+Tree</h4><p>结构图：</p><p><a href="https://dhc.pythonanywhere.com/media/editor/B+Tree%E7%BB%93%E6%9E%84%E5%9B%BE_20220316170700591277.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="B+Tree结构图"></a></p><blockquote><p>演示地址：<a href="https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html">https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html</a></p></blockquote><p>与 B-Tree 的区别：</p><ul><li>所有的数据都会出现在叶子节点</li><li>叶子节点形成一个单向链表</li></ul><p>MySQL 索引数据结构对经典的 B+Tree 进行了优化。在原 B+Tree 的基础上，增加一个指向相邻叶子节点的链表指针，就形成了带有顺序指针的 B+Tree，提高区间访问的性能。</p><p><a href="https://dhc.pythonanywhere.com/media/editor/%E7%BB%93%E6%9E%84%E5%9B%BE_20220316171730865611.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="MySQL B+Tree 结构图"></a></p><h4 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h4><p>哈希索引就是采用一定的 hash 算法，将键值换算成新的 hash 值，映射到对应的槽位上，然后存储在 hash 表中。<br>如果两个（或多个）键值，映射到一个相同的槽位上，他们就产生了 hash 冲突（也称为 hash 碰撞），可以通过链表来解决。</p><p><a href="https://dhc.pythonanywhere.com/media/editor/Hash%E7%B4%A2%E5%BC%95%E5%8E%9F%E7%90%86%E5%9B%BE_20220317143226150679.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Hash索引原理图"></a></p><p>特点：</p><ul><li>Hash 索引只能用于对等比较（&#x3D;、in），不支持范围查询（betwwn、&gt;、&lt;、…）</li><li>无法利用索引完成排序操作</li><li>查询效率高，通常只需要一次检索就可以了，效率通常要高于 B+Tree 索引</li></ul><p>存储引擎支持：</p><ul><li>Memory</li><li>InnoDB: 具有自适应 hash 功能，hash 索引是存储引擎根据 B+Tree 索引在指定条件下自动构建的</li></ul><h4 id="面试题"><a href="#面试题" class="headerlink" title="面试题"></a>面试题</h4><ol><li>为什么 InnoDB 存储引擎选择使用 B+Tree 索引结构？</li></ol><ul><li>相对于二叉树，层级更少，搜索效率高</li><li>对于 B-Tree，无论是叶子节点还是非叶子节点，都会保存数据，这样导致一页中存储的键值减少，指针也跟着减少，要同样保存大量数据，只能增加树的高度，导致性能降低</li><li>相对于 Hash 索引，B+Tree 支持范围匹配及排序操作</li></ul><h3 id="索引分类"><a href="#索引分类" class="headerlink" title="索引分类"></a>索引分类</h3><table><thead><tr><th>分类</th><th>含义</th><th>特点</th><th>关键字</th></tr></thead><tbody><tr><td>主键索引</td><td>针对于表中主键创建的索引</td><td>默认自动创建，只能有一个</td><td>PRIMARY</td></tr><tr><td>唯一索引</td><td>避免同一个表中某数据列中的值重复</td><td>可以有多个</td><td>UNIQUE</td></tr><tr><td>常规索引</td><td>快速定位特定数据</td><td>可以有多个</td><td></td></tr><tr><td>全文索引</td><td>全文索引查找的是文本中的关键词，而不是比较索引中的值</td><td>可以有多个</td><td>FULLTEXT</td></tr></tbody></table><p>在 InnoDB 存储引擎中，根据索引的存储形式，又可以分为以下两种：</p><table><thead><tr><th>分类</th><th>含义</th><th>特点</th></tr></thead><tbody><tr><td>聚集索引 (Clustered Index)</td><td>将数据存储与索引放一块，索引结构的叶子节点保存了行数据</td><td>必须有，而且只有一个</td></tr><tr><td>二级索引 (Secondary Index)</td><td>将数据与索引分开存储，索引结构的叶子节点关联的是对应的主键</td><td>可以存在多个</td></tr></tbody></table><p>演示图：</p><p><a href="https://dhc.pythonanywhere.com/media/editor/%E5%8E%9F%E7%90%86%E5%9B%BE_20220318194454880073.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="大致原理"></a><br><a href="https://dhc.pythonanywhere.com/media/editor/%E6%BC%94%E7%A4%BA%E5%9B%BE_20220319215403721066.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="演示图"></a></p><p>聚集索引选取规则：</p><ul><li>如果存在主键，主键索引就是聚集索引</li><li>如果不存在主键，将使用第一个唯一 (UNIQUE) 索引作为聚集索引</li><li>如果表没有主键或没有合适的唯一索引，则 InnoDB 会自动生成一个 rowid 作为隐藏的聚集索引</li></ul><h4 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h4><p>\1. 以下 SQL 语句，哪个执行效率高？为什么？</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">select * from user where id = 10;</span><br><span class="line">select * from user where name = &#x27;Arm&#x27;;</span><br><span class="line">-- 备注：id为主键，name字段创建的有索引</span><br></pre></td></tr></table></figure><p>答：第一条语句，因为第二条需要回表查询，相当于两个步骤。</p><p>\2. InnoDB 主键索引的 B+Tree 高度为多少？</p><p>答：假设一行数据大小为 1k，一页中可以存储 16 行这样的数据。InnoDB 的指针占用 6 个字节的空间，主键假设为 bigint，占用字节数为 8.<br>可得公式：<code>n * 8 + (n + 1) * 6 = 16 * 1024</code>，其中 8 表示 bigint 占用的字节数，n 表示当前节点存储的 key 的数量，(n + 1) 表示指针数量（比 key 多一个）。算出 n 约为 1170。</p><p>如果树的高度为 2，那么他能存储的数据量大概为：<code>1171 * 16 = 18736</code>；<br>如果树的高度为 3，那么他能存储的数据量大概为：<code>1171 * 1171 * 16 = 21939856</code>。</p><p>另外，如果有成千上万的数据，那么就要考虑分表，涉及运维篇知识。</p><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>创建索引：<br><code>CREATE [ UNIQUE | FULLTEXT ] INDEX index_name ON table_name (index_col_name, ...);</code><br>如果不加 CREATE 后面不加索引类型参数，则创建的是常规索引</p><p>查看索引：<br><code>SHOW INDEX FROM table_name;</code></p><p>删除索引：<br><code>DROP INDEX index_name ON table_name;</code></p><p>案例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line"></span><br><span class="line">-- name字段为姓名字段，该字段的值可能会重复，为该字段创建索引</span><br><span class="line">create index idx_user_name on tb_user(name);</span><br><span class="line">-- phone手机号字段的值非空，且唯一，为该字段创建唯一索引</span><br><span class="line">create unique index idx_user_phone on tb_user (phone);</span><br><span class="line">-- 为profession, age, status创建联合索引</span><br><span class="line">create index idx_user_pro_age_stat on tb_user(profession, age, status);</span><br><span class="line">-- 为email建立合适的索引来提升查询效率</span><br><span class="line">create index idx_user_email on tb_user(email);</span><br><span class="line"></span><br><span class="line">-- 删除索引</span><br><span class="line">drop index idx_user_email on tb_user;</span><br></pre></td></tr></table></figure><h3 id="使用规则"><a href="#使用规则" class="headerlink" title="使用规则"></a>使用规则</h3><h4 id="最左前缀法则"><a href="#最左前缀法则" class="headerlink" title="最左前缀法则"></a>最左前缀法则</h4><p>如果索引关联了多列（联合索引），要遵守最左前缀法则，最左前缀法则指的是查询从索引的最左列开始，并且不跳过索引中的列。<br>如果跳跃某一列，索引将部分失效（后面的字段索引失效）。</p><p>联合索引中，出现范围查询（&lt;,&gt;），范围查询右侧的列索引失效。可以用 &gt;&#x3D; 或者 &lt;&#x3D; 来规避索引失效问题。</p><h4 id="索引失效情况"><a href="#索引失效情况" class="headerlink" title="索引失效情况"></a>索引失效情况</h4><ol><li>在索引列上进行运算操作，索引将失效。如：<code>explain select * from tb_user where substring(phone, 10, 2) = &#39;15&#39;;</code></li><li>字符串类型字段使用时，不加引号，索引将失效。如：<code>explain select * from tb_user where phone = 17799990015;</code>，此处 phone 的值没有加引号</li><li>模糊查询中，如果仅仅是尾部模糊匹配，索引不会是失效；如果是头部模糊匹配，索引失效。如：<code>explain select * from tb_user where profession like &#39;%工程&#39;;</code>，前后都有 % 也会失效。</li><li>用 or 分割开的条件，如果 or 其中一个条件的列没有索引，那么涉及的索引都不会被用到。</li><li>如果 MySQL 评估使用索引比全表更慢，则不使用索引。</li></ol><h4 id="SQL-提示"><a href="#SQL-提示" class="headerlink" title="SQL 提示"></a>SQL 提示</h4><p>是优化数据库的一个重要手段，简单来说，就是在 SQL 语句中加入一些人为的提示来达到优化操作的目的。</p><p>例如，使用索引：<br><code>explain select * from tb_user use index(idx_user_pro) where profession=&quot;软件工程&quot;;</code><br>不使用哪个索引：<br><code>explain select * from tb_user ignore index(idx_user_pro) where profession=&quot;软件工程&quot;;</code><br>必须使用哪个索引：<br><code>explain select * from tb_user force index(idx_user_pro) where profession=&quot;软件工程&quot;;</code></p><p>use 是建议，实际使用哪个索引 MySQL 还会自己权衡运行速度去更改，force 就是无论如何都强制使用该索引。</p><h4 id="覆盖索引-amp-回表查询"><a href="#覆盖索引-amp-回表查询" class="headerlink" title="覆盖索引 &amp; 回表查询"></a>覆盖索引 &amp; 回表查询</h4><p>尽量使用覆盖索引（查询使用了索引，并且需要返回的列，在该索引中已经全部能找到），减少 select *。</p><p>explain 中 extra 字段含义：<br><code>using index condition</code>：查找使用了索引，但是需要回表查询数据<br><code>using where; using index;</code>：查找使用了索引，但是需要的数据都在索引列中能找到，所以不需要回表查询</p><p>如果在聚集索引中直接能找到对应的行，则直接返回行数据，只需要一次查询，哪怕是 select *；如果在辅助索引中找聚集索引，如 <code>select id, name from xxx where name=&#39;xxx&#39;;</code>，也只需要通过辅助索引 (name) 查找到对应的 id，返回 name 和 name 索引对应的 id 即可，只需要一次查询；如果是通过辅助索引查找其他字段，则需要回表查询，如 <code>select id, name, gender from xxx where name=&#39;xxx&#39;;</code></p><p>所以尽量不要用 <code>select *</code>，容易出现回表查询，降低效率，除非有联合索引包含了所有字段</p><p>面试题：一张表，有四个字段（id, username, password, status），由于数据量大，需要对以下 SQL 语句进行优化，该如何进行才是最优方案：<br><code>select id, username, password from tb_user where username=&#39;itcast&#39;;</code></p><p>解：给 username 和 password 字段建立联合索引，则不需要回表查询，直接覆盖索引</p><h4 id="前缀索引"><a href="#前缀索引" class="headerlink" title="前缀索引"></a>前缀索引</h4><p>当字段类型为字符串（varchar, text 等）时，有时候需要索引很长的字符串，这会让索引变得很大，查询时，浪费大量的磁盘 IO，影响查询效率，此时可以只降字符串的一部分前缀，建立索引，这样可以大大节约索引空间，从而提高索引效率。</p><p>语法：<code>create index idx_xxxx on table_name(columnn(n));</code><br>前缀长度：可以根据索引的选择性来决定，而选择性是指不重复的索引值（基数）和数据表的记录总数的比值，索引选择性越高则查询效率越高，唯一索引的选择性是 1，这是最好的索引选择性，性能也是最好的。<br>求选择性公式：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">select count(distinct email) / count(*) from tb_user;</span><br><span class="line">select count(distinct substring(email, 1, 5)) / count(*) from tb_user;</span><br></pre></td></tr></table></figure><p>show index 里面的 sub_part 可以看到接取的长度</p><h4 id="单列索引-amp-联合索引"><a href="#单列索引-amp-联合索引" class="headerlink" title="单列索引 &amp; 联合索引"></a>单列索引 &amp; 联合索引</h4><p>单列索引：即一个索引只包含单个列<br>联合索引：即一个索引包含了多个列<br>在业务场景中，如果存在多个查询条件，考虑针对于查询字段建立索引时，建议建立联合索引，而非单列索引。</p><p>单列索引情况：<br><code>explain select id, phone, name from tb_user where phone = &#39;17799990010&#39; and name = &#39;韩信&#39;;</code><br>这句只会用到 phone 索引字段</p><h5 id="注意事项-8"><a href="#注意事项-8" class="headerlink" title="注意事项"></a>注意事项</h5><ul><li>多条件联合查询时，MySQL 优化器会评估哪个字段的索引效率更高，会选择该索引完成本次查询</li></ul><h3 id="设计原则"><a href="#设计原则" class="headerlink" title="设计原则"></a>设计原则</h3><ol><li>针对于数据量较大，且查询比较频繁的表建立索引</li><li>针对于常作为查询条件（where）、排序（order by）、分组（group by）操作的字段建立索引</li><li>尽量选择区分度高的列作为索引，尽量建立唯一索引，区分度越高，使用索引的效率越高</li><li>如果是字符串类型的字段，字段长度较长，可以针对于字段的特点，建立前缀索引</li><li>尽量使用联合索引，减少单列索引，查询时，联合索引很多时候可以覆盖索引，节省存储空间，避免回表，提高查询效率</li><li>要控制索引的数量，索引并不是多多益善，索引越多，维护索引结构的代价就越大，会影响增删改的效率</li><li>如果索引列不能存储 NULL 值，请在创建表时使用 NOT NULL 约束它。当优化器知道每列是否包含 NULL 值时，它可以更好地确定哪个索引最有效地用于查询</li></ol><h2 id="2-4-SQL-优化"><a href="#2-4-SQL-优化" class="headerlink" title="2.4 SQL 优化"></a>2.4 SQL 优化</h2><h3 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h3><p>普通插入：</p><ol><li>采用批量插入（一次插入的数据不建议超过 1000 条）</li><li>手动提交事务</li><li>主键顺序插入</li></ol><p>大批量插入：<br>如果一次性需要插入大批量数据，使用 insert 语句插入性能较低，此时可以使用 MySQL 数据库提供的 load 指令插入。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line"># 客户端连接服务端时，加上参数 --local-infile（这一行在bash/cmd界面输入）</span><br><span class="line">mysql --local-infile -u root -p</span><br><span class="line"># 设置全局参数local_infile为1，开启从本地加载文件导入数据的开关</span><br><span class="line">set global local_infile = 1;</span><br><span class="line">select @@local_infile;</span><br><span class="line"># 执行load指令将准备好的数据，加载到表结构中</span><br><span class="line">load data local infile &#x27;/root/sql1.log&#x27; into table &#x27;tb_user&#x27; fields terminated by &#x27;,&#x27; lines terminated by &#x27;\n&#x27;;</span><br></pre></td></tr></table></figure><h3 id="主键优化"><a href="#主键优化" class="headerlink" title="主键优化"></a>主键优化</h3><p>数据组织方式：在 InnoDB 存储引擎中，表数据都是根据主键顺序组织存放的，这种存储方式的表称为索引组织表（Index organized table, IOT）</p><p>页分裂：页可以为空，也可以填充一般，也可以填充 100%，每个页包含了 2-N 行数据（如果一行数据过大，会行溢出），根据主键排列。<br>页合并：当删除一行记录时，实际上记录并没有被物理删除，只是记录被标记（flaged）为删除并且它的空间变得允许被其他记录声明使用。当页中删除的记录到达 MERGE_THRESHOLD（默认为页的 50%），InnoDB 会开始寻找最靠近的页（前后）看看是否可以将这两个页合并以优化空间使用。</p><p>MERGE_THRESHOLD：合并页的阈值，可以自己设置，在创建表或创建索引时指定</p><blockquote><p>文字说明不够清晰明了，具体可以看视频里的 PPT 演示过程：<a href="https://www.bilibili.com/video/BV1Kr4y1i7ru?p=90">https://www.bilibili.com/video/BV1Kr4y1i7ru?p=90</a></p></blockquote><p>主键设计原则：</p><ul><li>满足业务需求的情况下，尽量降低主键的长度</li><li>插入数据时，尽量选择顺序插入，选择使用 AUTO_INCREMENT 自增主键</li><li>尽量不要使用 UUID 做主键或者是其他的自然主键，如身份证号</li><li>业务操作时，避免对主键的修改</li></ul><h3 id="order-by-优化"><a href="#order-by-优化" class="headerlink" title="order by 优化"></a>order by 优化</h3><ol><li>Using filesort：通过表的索引或全表扫描，读取满足条件的数据行，然后在排序缓冲区 sort buffer 中完成排序操作，所有不是通过索引直接返回排序结果的排序都叫 FileSort 排序</li><li>Using index：通过有序索引顺序扫描直接返回有序数据，这种情况即为 using index，不需要额外排序，操作效率高</li></ol><p>如果 order by 字段全部使用升序排序或者降序排序，则都会走索引，但是如果一个字段升序排序，另一个字段降序排序，则不会走索引，explain 的 extra 信息显示的是 <code>Using index, Using filesort</code>，如果要优化掉 Using filesort，则需要另外再创建一个索引，如：<code>create index idx_user_age_phone_ad on tb_user(age asc, phone desc);</code>，此时使用 <code>select id, age, phone from tb_user order by age asc, phone desc;</code> 会全部走索引</p><p>总结：</p><ul><li>根据排序字段建立合适的索引，多字段排序时，也遵循最左前缀法则</li><li>尽量使用覆盖索引</li><li>多字段排序，一个升序一个降序，此时需要注意联合索引在创建时的规则（ASC&#x2F;DESC）</li><li>如果不可避免出现 filesort，大数据量排序时，可以适当增大排序缓冲区大小 sort_buffer_size（默认 256k）</li></ul><h3 id="group-by-优化"><a href="#group-by-优化" class="headerlink" title="group by 优化"></a>group by 优化</h3><ul><li>在分组操作时，可以通过索引来提高效率</li><li>分组操作时，索引的使用也是满足最左前缀法则的</li></ul><p>如索引为 <code>idx_user_pro_age_stat</code>，则句式可以是 <code>select ... where profession order by age</code>，这样也符合最左前缀法则</p><h3 id="limit-优化"><a href="#limit-优化" class="headerlink" title="limit 优化"></a>limit 优化</h3><p>常见的问题如 <code>limit 2000000, 10</code>，此时需要 MySQL 排序前 2000000 条记录，但仅仅返回 2000000 - 2000010 的记录，其他记录丢弃，查询排序的代价非常大。<br>优化方案：一般分页查询时，通过创建覆盖索引能够比较好地提高性能，可以通过覆盖索引加子查询形式进行优化</p><p>例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">-- 此语句耗时很长</span><br><span class="line">select * from tb_sku limit 9000000, 10;</span><br><span class="line">-- 通过覆盖索引加快速度，直接通过主键索引进行排序及查询</span><br><span class="line">select id from tb_sku order by id limit 9000000, 10;</span><br><span class="line">-- 下面的语句是错误的，因为 MySQL 不支持 in 里面使用 limit</span><br><span class="line">-- select * from tb_sku where id in (select id from tb_sku order by id limit 9000000, 10);</span><br><span class="line">-- 通过连表查询即可实现第一句的效果，并且能达到第二句的速度</span><br><span class="line">select * from tb_sku as s, (select id from tb_sku order by id limit 9000000, 10) as a where s.id = a.id;</span><br></pre></td></tr></table></figure><h3 id="count-优化"><a href="#count-优化" class="headerlink" title="count 优化"></a>count 优化</h3><p>MyISAM 引擎把一个表的总行数存在了磁盘上，因此执行 count (<em>) 的时候会直接返回这个数，效率很高（前提是不适用 where）；<br>InnoDB 在执行 count (</em>) 时，需要把数据一行一行地从引擎里面读出来，然后累计计数。<br>优化方案：自己计数，如创建 key-value 表存储在内存或硬盘，或者是用 redis</p><p>count 的几种用法：</p><ul><li>如果 count 函数的参数（count 里面写的那个字段）不是 NULL（字段值不为 NULL），累计值就加一，最后返回累计值</li><li>用法：count (*)、count (主键)、count (字段)、count (1)</li><li>count (主键) 跟 count (<em>) 一样，因为主键不能为空；count (字段) 只计算字段值不为 NULL 的行；count (1) 引擎会为每行添加一个 1，然后就 count 这个 1，返回结果也跟 count (</em>) 一样；count (null) 返回 0</li></ul><p>各种用法的性能：</p><ul><li>count (主键)：InnoDB 引擎会遍历整张表，把每行的主键 id 值都取出来，返回给服务层，服务层拿到主键后，直接按行进行累加（主键不可能为空）</li><li>count (字段)：没有 not null 约束的话，InnoDB 引擎会遍历整张表把每一行的字段值都取出来，返回给服务层，服务层判断是否为 null，不为 null，计数累加；有 not null 约束的话，InnoDB 引擎会遍历整张表把每一行的字段值都取出来，返回给服务层，直接按行进行累加</li><li>count (1)：InnoDB 引擎遍历整张表，但不取值。服务层对于返回的每一层，放一个数字 1 进去，直接按行进行累加</li><li>count (*)：InnoDB 引擎并不会把全部字段取出来，而是专门做了优化，不取值，服务层直接按行进行累加</li></ul><p>按效率排序：count (字段) &lt; count (主键) &lt; count (1) &lt; count (<em>)，所以尽量使用 count (</em>)</p><h3 id="update-优化（避免行锁升级为表锁）"><a href="#update-优化（避免行锁升级为表锁）" class="headerlink" title="update 优化（避免行锁升级为表锁）"></a>update 优化（避免行锁升级为表锁）</h3><p>InnoDB 的行锁是针对索引加的锁，不是针对记录加的锁，并且该索引不能失效，否则会从行锁升级为表锁。</p><p>如以下两条语句：<br><code>update student set no = &#39;123&#39; where id = 1;</code>，这句由于 id 有主键索引，所以只会锁这一行；<br><code>update student set no = &#39;123&#39; where name = &#39;test&#39;;</code>，这句由于 name 没有索引，所以会把整张表都锁住进行数据更新，解决方法是给 name 字段添加索引</p><h1 id="3-数据类型"><a href="#3-数据类型" class="headerlink" title="3. 数据类型"></a>3. 数据类型</h1><h2 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h2><table><thead><tr><th>类型名称</th><th>取值范围</th><th>大小</th></tr></thead><tbody><tr><td>TINYINT</td><td>-128〜127</td><td>1 个字节</td></tr><tr><td>SMALLINT</td><td>-32768〜32767</td><td>2 个宇节</td></tr><tr><td>MEDIUMINT</td><td>-8388608〜8388607</td><td>3 个字节</td></tr><tr><td>INT (INTEGHR)</td><td>-2147483648〜2147483647</td><td>4 个字节</td></tr><tr><td>BIGINT</td><td>-9223372036854775808〜9223372036854775807</td><td>8 个字节</td></tr></tbody></table><p>无符号在数据类型后加 unsigned 关键字。</p><h2 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h2><table><thead><tr><th>类型名称</th><th>说明</th><th>存储需求</th></tr></thead><tbody><tr><td>FLOAT</td><td>单精度浮点数</td><td>4 个字节</td></tr><tr><td>DOUBLE</td><td>双精度浮点数</td><td>8 个字节</td></tr><tr><td>DECIMAL (M, D)，DEC</td><td>压缩的 “严格” 定点数</td><td>M+2 个字节</td></tr></tbody></table><h2 id="日期和时间"><a href="#日期和时间" class="headerlink" title="日期和时间"></a>日期和时间</h2><table><thead><tr><th>类型名称</th><th>日期格式</th><th>日期范围</th><th>存储需求</th></tr></thead><tbody><tr><td>YEAR</td><td>YYYY</td><td>1901 ~ 2155</td><td>1 个字节</td></tr><tr><td>TIME</td><td>HH:MM:SS</td><td>-838:59:59 ~ 838:59:59</td><td>3 个字节</td></tr><tr><td>DATE</td><td>YYYY-MM-DD</td><td>1000-01-01 ~ 9999-12-3</td><td>3 个字节</td></tr><tr><td>DATETIME</td><td>YYYY-MM-DD HH:MM:SS</td><td>1000-01-01 00:00:00 ~ 9999-12-31 23:59:59</td><td>8 个字节</td></tr><tr><td>TIMESTAMP</td><td>YYYY-MM-DD HH:MM:SS</td><td>1980-01-01 00:00:01 UTC ~ 2040-01-19 03:14:07 UTC</td><td>4 个字节</td></tr></tbody></table><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><table><thead><tr><th>类型名称</th><th>说明</th><th>存储需求</th></tr></thead><tbody><tr><td>CHAR(M)</td><td>固定长度非二进制字符串</td><td>M 字节，1&lt;&#x3D;M&lt;&#x3D;255</td></tr><tr><td>VARCHAR(M)</td><td>变长非二进制字符串</td><td>L+1 字节，在此，L&lt; &#x3D; M 和 1&lt;&#x3D;M&lt;&#x3D;255</td></tr><tr><td>TINYTEXT</td><td>非常小的非二进制字符串</td><td>L+1 字节，在此，L&lt;2^8</td></tr><tr><td>TEXT</td><td>小的非二进制字符串</td><td>L+2 字节，在此，L&lt;2^16</td></tr><tr><td>MEDIUMTEXT</td><td>中等大小的非二进制字符串</td><td>L+3 字节，在此，L&lt;2^24</td></tr><tr><td>LONGTEXT</td><td>大的非二进制字符串</td><td>L+4 字节，在此，L&lt;2^32</td></tr><tr><td>ENUM</td><td>枚举类型，只能有一个枚举字符串值</td><td>1 或 2 个字节，取决于枚举值的数目 (最大值为 65535)</td></tr><tr><td>SET</td><td>一个设置，字符串对象可以有零个或 多个 SET 成员</td><td>1、2、3、4 或 8 个字节，取决于集合 成员的数量（最多 64 个成员）</td></tr></tbody></table><h2 id="二进制类型"><a href="#二进制类型" class="headerlink" title="二进制类型"></a>二进制类型</h2><table><thead><tr><th>类型名称</th><th>说明</th><th>存储需求</th></tr></thead><tbody><tr><td>BIT(M)</td><td>位字段类型</td><td>大约 (M+7)&#x2F;8 字节</td></tr><tr><td>BINARY(M)</td><td>固定长度二进制字符串</td><td>M 字节</td></tr><tr><td>VARBINARY (M)</td><td>可变长度二进制字符串</td><td>M+1 字节</td></tr><tr><td>TINYBLOB (M)</td><td>非常小的 BLOB</td><td>L+1 字节，在此，L&lt;2^8</td></tr><tr><td>BLOB (M)</td><td>小 BLOB</td><td>L+2 字节，在此，L&lt;2^16</td></tr><tr><td>MEDIUMBLOB (M)</td><td>中等大小的 BLOB</td><td>L+3 字节，在此，L&lt;2^24</td></tr><tr><td>LONGBLOB (M)</td><td>非常大的 BLOB</td><td>L+4 字节，在此，L&lt;2^32</td></tr></tbody></table><h1 id="4-权限一览表"><a href="#4-权限一览表" class="headerlink" title="4. 权限一览表"></a>4. 权限一览表</h1><blockquote><p>具体权限的作用详见<a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html">官方文档</a></p></blockquote><p>GRANT 和 REVOKE 允许的静态权限</p><table><thead><tr><th align="left">Privilege</th><th align="left">Grant Table Column</th><th align="left">Context</th></tr></thead><tbody><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_all"><code>ALL [PRIVILEGES]</code></a></td><td align="left">Synonym for “all privileges”</td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_alter"><code>ALTER</code></a></td><td align="left"><code>Alter_priv</code></td><td align="left">Tables</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_alter-routine"><code>ALTER ROUTINE</code></a></td><td align="left"><code>Alter_routine_priv</code></td><td align="left">Stored routines</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create"><code>CREATE</code></a></td><td align="left"><code>Create_priv</code></td><td align="left">Databases, tables, or indexes</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-role"><code>CREATE ROLE</code></a></td><td align="left"><code>Create_role_priv</code></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-routine"><code>CREATE ROUTINE</code></a></td><td align="left"><code>Create_routine_priv</code></td><td align="left">Stored routines</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-tablespace"><code>CREATE TABLESPACE</code></a></td><td align="left"><code>Create_tablespace_priv</code></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-temporary-tables"><code>CREATE TEMPORARY TABLES</code></a></td><td align="left"><code>Create_tmp_table_priv</code></td><td align="left">Tables</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-user"><code>CREATE USER</code></a></td><td align="left"><code>Create_user_priv</code></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_create-view"><code>CREATE VIEW</code></a></td><td align="left"><code>Create_view_priv</code></td><td align="left">Views</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_delete"><code>DELETE</code></a></td><td align="left"><code>Delete_priv</code></td><td align="left">Tables</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_drop"><code>DROP</code></a></td><td align="left"><code>Drop_priv</code></td><td align="left">Databases, tables, or views</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_drop-role"><code>DROP ROLE</code></a></td><td align="left"><code>Drop_role_priv</code></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_event"><code>EVENT</code></a></td><td align="left"><code>Event_priv</code></td><td align="left">Databases</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_execute"><code>EXECUTE</code></a></td><td align="left"><code>Execute_priv</code></td><td align="left">Stored routines</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_file"><code>FILE</code></a></td><td align="left"><code>File_priv</code></td><td align="left">File access on server host</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_grant-option"><code>GRANT OPTION</code></a></td><td align="left"><code>Grant_priv</code></td><td align="left">Databases, tables, or stored routines</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_index"><code>INDEX</code></a></td><td align="left"><code>Index_priv</code></td><td align="left">Tables</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_insert"><code>INSERT</code></a></td><td align="left"><code>Insert_priv</code></td><td align="left">Tables or columns</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_lock-tables"><code>LOCK TABLES</code></a></td><td align="left"><code>Lock_tables_priv</code></td><td align="left">Databases</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_process"><code>PROCESS</code></a></td><td align="left"><code>Process_priv</code></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_proxy"><code>PROXY</code></a></td><td align="left">See <code>proxies_priv</code> table</td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_references"><code>REFERENCES</code></a></td><td align="left"><code>References_priv</code></td><td align="left">Databases or tables</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_reload"><code>RELOAD</code></a></td><td align="left"><code>Reload_priv</code></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-client"><code>REPLICATION CLIENT</code></a></td><td align="left"><code>Repl_client_priv</code></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-slave"><code>REPLICATION SLAVE</code></a></td><td align="left"><code>Repl_slave_priv</code></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_select"><code>SELECT</code></a></td><td align="left"><code>Select_priv</code></td><td align="left">Tables or columns</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-databases"><code>SHOW DATABASES</code></a></td><td align="left"><code>Show_db_priv</code></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-view"><code>SHOW VIEW</code></a></td><td align="left"><code>Show_view_priv</code></td><td align="left">Views</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_shutdown"><code>SHUTDOWN</code></a></td><td align="left"><code>Shutdown_priv</code></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_super"><code>SUPER</code></a></td><td align="left"><code>Super_priv</code></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_trigger"><code>TRIGGER</code></a></td><td align="left"><code>Trigger_priv</code></td><td align="left">Tables</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_update"><code>UPDATE</code></a></td><td align="left"><code>Update_priv</code></td><td align="left">Tables or columns</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_usage"><code>USAGE</code></a></td><td align="left">Synonym for “no privileges”</td><td align="left">Server administration</td></tr></tbody></table><p>GRANT 和 REVOKE 允许的动态权限</p><table><thead><tr><th align="left">Privilege</th><th align="left">Context</th></tr></thead><tbody><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_application-password-admin"><code>APPLICATION_PASSWORD_ADMIN</code></a></td><td align="left">Dual password administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_audit-abort-exempt"><code>AUDIT_ABORT_EXEMPT</code></a></td><td align="left">Allow queries blocked by audit log filter</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_audit-admin"><code>AUDIT_ADMIN</code></a></td><td align="left">Audit log administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_authentication-policy-admin"><code>AUTHENTICATION_POLICY_ADMIN</code></a></td><td align="left">Authentication administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_backup-admin"><code>BACKUP_ADMIN</code></a></td><td align="left">Backup administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_binlog-admin"><code>BINLOG_ADMIN</code></a></td><td align="left">Backup and Replication administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_binlog-encryption-admin"><code>BINLOG_ENCRYPTION_ADMIN</code></a></td><td align="left">Backup and Replication administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_clone-admin"><code>CLONE_ADMIN</code></a></td><td align="left">Clone administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin"><code>CONNECTION_ADMIN</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_encryption-key-admin"><code>ENCRYPTION_KEY_ADMIN</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-admin"><code>FIREWALL_ADMIN</code></a></td><td align="left">Firewall administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-exempt"><code>FIREWALL_EXEMPT</code></a></td><td align="left">Firewall administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-user"><code>FIREWALL_USER</code></a></td><td align="left">Firewall administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-optimizer-costs"><code>FLUSH_OPTIMIZER_COSTS</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-status"><code>FLUSH_STATUS</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-tables"><code>FLUSH_TABLES</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-user-resources"><code>FLUSH_USER_RESOURCES</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_group-replication-admin"><code>GROUP_REPLICATION_ADMIN</code></a></td><td align="left">Replication administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_group-replication-stream"><code>GROUP_REPLICATION_STREAM</code></a></td><td align="left">Replication administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_innodb-redo-log-archive"><code>INNODB_REDO_LOG_ARCHIVE</code></a></td><td align="left">Redo log archiving administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_ndb-stored-user"><code>NDB_STORED_USER</code></a></td><td align="left">NDB Cluster</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_passwordless-user-admin"><code>PASSWORDLESS_USER_ADMIN</code></a></td><td align="left">Authentication administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_persist-ro-variables-admin"><code>PERSIST_RO_VARIABLES_ADMIN</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-applier"><code>REPLICATION_APPLIER</code></a></td><td align="left"><code>PRIVILEGE_CHECKS_USER</code> for a replication channel</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_replication-slave-admin"><code>REPLICATION_SLAVE_ADMIN</code></a></td><td align="left">Replication administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_resource-group-admin"><code>RESOURCE_GROUP_ADMIN</code></a></td><td align="left">Resource group administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_resource-group-user"><code>RESOURCE_GROUP_USER</code></a></td><td align="left">Resource group administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_role-admin"><code>ROLE_ADMIN</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_session-variables-admin"><code>SESSION_VARIABLES_ADMIN</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_set-user-id"><code>SET_USER_ID</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-routine"><code>SHOW_ROUTINE</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-user"><code>SYSTEM_USER</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-variables-admin"><code>SYSTEM_VARIABLES_ADMIN</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_table-encryption-admin"><code>TABLE_ENCRYPTION_ADMIN</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_version-token-admin"><code>VERSION_TOKEN_ADMIN</code></a></td><td align="left">Server administration</td></tr><tr><td align="left"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_xa-recover-admin"><code>XA_RECOVER_ADMIN</code></a></td><td align="left">Server administration</td></tr></tbody></table><h1 id="5-图形化界面工具"><a href="#5-图形化界面工具" class="headerlink" title="5. 图形化界面工具"></a>5. 图形化界面工具</h1><ul><li>Workbench (免费): <a href="http://dev.mysql.com/downloads/workbench/">http://dev.mysql.com/downloads/workbench/</a></li><li>navicat (收费，试用版 30 天): <a href="https://www.navicat.com/en/download/navicat-for-mysql">https://www.navicat.com/en/download/navicat-for-mysql</a></li><li>Sequel Pro (开源免费，仅支持 Mac OS): <a href="http://www.sequelpro.com/">http://www.sequelpro.com/</a></li><li>HeidiSQL (免费): <a href="http://www.heidisql.com/">http://www.heidisql.com/</a></li><li>phpMyAdmin (免费): <a href="https://www.phpmyadmin.net/">https://www.phpmyadmin.net/</a></li><li>SQLyog: <a href="https://sqlyog.en.softonic.com/">https://sqlyog.en.softonic.com/</a></li></ul><h1 id="6-安装"><a href="#6-安装" class="headerlink" title="6. 安装"></a>6. 安装</h1><h1 id="7-小技巧"><a href="#7-小技巧" class="headerlink" title="7. 小技巧"></a>7. 小技巧</h1><ol><li>在 SQL 语句之后加上 <code>\G</code> 会将结果的表格形式转换成行文本形式</li><li>查看 Mysql 数据库占用空间：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SQL</span><br><span class="line">SELECT table_schema &quot;Database Name&quot;</span><br><span class="line">     , SUM(data_length + index_length) / (1024 * 1024) &quot;Database Size in MB&quot;</span><br><span class="line">FROM information_schema.TABLES</span><br><span class="line">GROUP BY table_schema;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySql数据库 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>理想の小屋</title>
      <link href="/posts/c9183646.html"/>
      <url>/posts/c9183646.html</url>
      
        <content type="html"><![CDATA[<h1 id="宫崎骏"><a href="#宫崎骏" class="headerlink" title="宫崎骏"></a>宫崎骏</h1><p>日本著名动画大师、动画导演及漫画家</p><p> <a href="https://baike.so.com/gallery/list?ghid=first&pic_idx=1&eid=2874715&sid=3033704"> <img src="https://so1.360tres.com/dr/705_705_/t017dc527ce3c12b61f.webp?size=705x705" alt="宫崎骏"> </a> </p><p>宫崎骏（Miyazaki Hayao，1941年1月5日－），日本著名动画导演、动画师及漫画家，出生于东京都文京区  。1963年进入东映动画公司，1985年与高畑勋共同创立吉卜力工作室。2013年9月6日宣布引退。宫崎骏动画作品大多涉及人类与自然之间的关系、和平主义及女权运动，出品的动漫电影以精湛的技术、动人的故事和温暖的风格在世界动漫界独树一帜。</p><p>2014年8月，<a href="https://baike.so.com/doc/5798279-6011074.html">美国电影艺术与科学学院</a>宣布，授予宫崎骏<a href="https://baike.so.com/doc/4355746-4561148.html">奥斯卡</a>终身成就奖。<a href="https://baike.so.com/doc/2934628-3096512.html">洛杉矶</a>时间2014年11月8日晚，第6届荣誉<a href="https://baike.so.com/doc/4355746-4561148.html">奥斯卡</a>终身成就奖颁奖礼举行，宫崎骏被授予该项荣誉。2015年2月22日，获得了第87届奥斯卡金像奖奥斯卡荣誉奖。2015年7月，宣布复出。2018年10月23日，被洛杉矶影评人协会评选为2018年的终身成就奖获得者。</p><p>​      </p><h2 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h2><ul><li>中文名宫崎骏</li><li>外文名MiyazakiHayao</li><li>别名秋津三朗，照树务</li><li>国籍日本</li><li>民族大和</li><li>出生地日本东京都文京区</li><li>出生日期1941年1月5日</li><li>星座摩羯座</li><li>血型O型血</li><li>其他成就创立吉卜力工作室、1994年日本漫画家协会奖  、第75届<a href="https://baike.so.com/doc/4355746-4561148.html">奥斯卡</a>最佳动画长篇奖 、第62届威尼斯电影节“荣誉金狮奖 、2012年度日本“文化功劳者”称号、第87届荣誉奥斯卡终身成就奖</li><li>职业动画导演、编剧作家</li><li>毕业院校日本东京学习院大学</li><li>影视作品起风了、胡桃夹子与老鼠王、你想活出怎样的人生</li><li>音乐作品always with me、天空之城、龙猫</li><li>其他作品《<a href="https://baike.so.com/doc/1630549-1723779.html">千与千寻</a>》《<a href="https://baike.so.com/doc/2711028-2862119.html">哈尔的移动城堡</a>》、《<a href="https://baike.so.com/doc/5045938-5272844.html">幽灵公主</a>》 《<a href="https://baike.so.com/doc/5363511-6991512.html">风之谷</a>》</li></ul><h4 id="作品介绍-大家感兴趣可以去看看（顺序不代表排名，狗头保命）"><a href="#作品介绍-大家感兴趣可以去看看（顺序不代表排名，狗头保命）" class="headerlink" title="作品介绍  大家感兴趣可以去看看（顺序不代表排名，狗头保命）"></a>作品介绍  大家感兴趣可以去看看（顺序不代表排名，狗头保命）</h4><h4 id="暂时只盘点几部的我比较喜欢的，后续会逐渐完善"><a href="#暂时只盘点几部的我比较喜欢的，后续会逐渐完善" class="headerlink" title="暂时只盘点几部的我比较喜欢的，后续会逐渐完善"></a>暂时只盘点几部的我比较喜欢的，后续会逐渐完善</h4><h4 id="幽灵公主诞生物语-「もののけ姫」はこうして生まれた-2001"><a href="#幽灵公主诞生物语-「もののけ姫」はこうして生まれた-2001" class="headerlink" title="幽灵公主诞生物语 「もののけ姫」はこうして生まれた  (2001)"></a>幽灵公主诞生物语 「もののけ姫」はこうして生まれた  (2001)</h4><h4 id=""><a href="#" class="headerlink" title=""></a><img src="https://img1.doubanio.com/view/photo/s_ratio_poster/public/p2560802250.webp" alt="「もののけ姫」はこうして生まれた"></h4><h4 id="千与千寻-千と千尋の神隠し-2001"><a href="#千与千寻-千と千尋の神隠し-2001" class="headerlink" title="千与千寻 千と千尋の神隠し (2001)"></a>千与千寻 千と千尋の神隠し (2001)</h4><h4 id="-1"><a href="#-1" class="headerlink" title=""></a><img src="https://img1.doubanio.com/view/photo/s_ratio_poster/public/p2557573348.webp" alt="千と千尋の神隠し"></h4><p><strong>上映时间：2001-07-20</strong></p><p><strong>主演：柊瑠美，入野自由，夏木真理，菅原文太，内藤刚志，神木隆之介，泽口靖子，我修院达也</strong></p><p>　　千寻和爸爸妈妈一同驱车前往新家，在郊外的小路上不慎进入了神秘的隧道——他们去到了另外一个诡异世界—一个中世纪的小镇。远处飘来食物的香味，爸爸妈妈大快朵颐，孰料之后变成了猪！这时小镇上渐渐来了许多样子古怪、半透明的人。千寻仓皇逃出，一个叫小白的人救了他，喂了她阻止身体消 失的药，并且告诉她怎样去找锅炉爷爷以及汤婆婆，而且必须获得一分工作才能不被魔法变成别的东西。  千寻在小白的帮助下幸运地获得了一份在浴池打杂的工作。渐渐她不再被那些怪模怪样的人吓倒，并从小玲那儿知道了小白是凶恶的汤婆婆的弟子。一次，千寻发现小白被一群白色飞舞的纸人打伤，为了救受伤的小白，她用河神送给她的药丸驱出了小白身体内的封印以及守封印的小妖精，但小白还是没有醒过来。为了救小白，千寻又踏上了她的冒险之旅。</p><h4 id="起风了-風立ちぬ-2013"><a href="#起风了-風立ちぬ-2013" class="headerlink" title="起风了 風立ちぬ (2013)"></a>起风了 風立ちぬ (2013)</h4><p><img src="https://img1.doubanio.com/view/photo/s_ratio_poster/public/p1998028598.webp" alt="風立ちぬ"> </p><p><strong>上映时间：2013-07-20</strong></p><p><strong>主演：庵野秀明，泷本美织，西岛秀俊，西村雅彦，史蒂夫·阿尔珀特，风间杜夫，竹下景子，志田未来，国村隼，大竹忍，野村万斋</strong></p><p>　　那是一个动荡的年代，战争、饥饿、疾病、天灾，死神的阴影笼罩全球，却无法遮挡心头闪现的梦想和希望的光芒。平凡的日本少年堀越二郎（庵野秀明 配音）迷恋游弋长空的飞机，梦中他与意大利飞机设计师卡普罗尼（野村万斋  配音）成为朋友，享受着飞行带来的乐趣。恐怖的关东大地震，二郎邂逅一生的挂念——里见菜穗子（泷本美织  配音），短暂的相逢，无序的混乱中又失之交臂。在命运的指引下，被称为天才的二郎如愿成为飞机设计师，他和前辈同侪共同努力，绞尽脑汁提升飞机的性能。欧洲的先进设计让他们痛心疾首，另一方面又充满矛盾的打造着融合了梦想和杀人属性的机器。他追逐梦想，并与菜穗子重逢。动荡的昭和时代，风雪飘摇之中步伐从未停止……<br>        本片根据零式战斗机设计师堀越二郎的人生事迹和作家堀辰雄的同名小说改编。</p><h4 id="龙猫-となりのトトロ-1988"><a href="#龙猫-となりのトトロ-1988" class="headerlink" title="龙猫 となりのトトロ  (1988)"></a>龙猫 となりのトトロ  (1988)</h4><p><img src="https://img9.doubanio.com/view/photo/s_ratio_poster/public/p2540924496.webp" alt="となりのトトロ"></p><p>​                           </p>]]></content>
      
      
      <categories>
          
          <category> 理想の小屋 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo博客搭建基础教程（三）</title>
      <link href="/posts/5c2fafc7.html"/>
      <url>/posts/5c2fafc7.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h2><ol><li>博客搭建过程遇到任何问题，优先在本页面搜索，检查是否已经有该配置教程。</li><li>遇到问题可以优先在文章评论区留言，注意留言时请填写正确的邮箱以确保能收到回复。</li><li>本站和本文章来自<a href="https://www.fomal.cc/%E5%8F%82%E8%80%83%E5%86%99%E6%88%90">https://www.fomal.cc/参考写成</a>   感谢大佬</li></ol><h2 id="2-语言"><a href="#2-语言" class="headerlink" title="2. 语言"></a>2. 语言</h2><p>修改站点配置文件<code>_config.yml</code>，默认语言是 en 。<br>主题支持三种语言：</p><ul><li>default(en)</li><li>zh-CN (简体中文)</li><li>zh-TW (繁体中文)</li></ul><h2 id="3-网站资料"><a href="#3-网站资料" class="headerlink" title="3. 网站资料"></a>3. 网站资料</h2><p>修改网站各种资料，例如标题、副标题和邮箱等个人资料，请修改站点配置文件<code>_config.yml</code>。部分参数如下，详细参数可参考官方的<a href="https://hexo.io/zh-cn/docs/configuration">配置描述</a>。</p><table><thead><tr><th align="center">参数</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">title</td><td align="center">网站标题</td></tr><tr><td align="center">subtitle</td><td align="center">描述</td></tr><tr><td align="center">description</td><td align="center">网站描述</td></tr><tr><td align="center">keywords</td><td align="center">网站的关键词。支持多个关键词</td></tr><tr><td align="center">author</td><td align="center">您的名字</td></tr><tr><td align="center">language</td><td align="center">网站使用的语言。对于简体中文用户来说，使用不同的主题可能需要设置成不同的值，请参考你的主题的文档自行设置，常见的有 zh-Hans 和 zh-CN。</td></tr><tr><td align="center">timezone</td><td align="center">网站时区。Hexo 默认使用您电脑的时区。请参考 时区列表 进行设置，如 America&#x2F;New_York, Japan, 和 UTC 。一般的，对于中国大陆地区可以使用 Asia&#x2F;Shanghai</td></tr></tbody></table><h2 id="4-导航菜单"><a href="#4-导航菜单" class="headerlink" title="4. 导航菜单"></a>4. 导航菜单</h2><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  Home: / || fas fa-home</span><br><span class="line">  Archives: /archives/ || fas fa-archive</span><br><span class="line">  Tags: /tags/ || fas fa-tags</span><br><span class="line">  Categories: /categories/ || fas fa-folder-open</span><br><span class="line">  List||fas fa-list:</span><br><span class="line">    Music: /music/ || fas fa-music</span><br><span class="line">    Movie: /movies/ || fas fa-video</span><br><span class="line">  Link: /link/ || fas fa-link</span><br><span class="line">  About: /about/ || fas fa-heart</span><br></pre></td></tr></table></figure><ul><li>必须是 <code>/xxx/</code>，后面 <code>||</code> 分开，然后写图标名，如果不想显示图标，图标名可不写</li><li>若主题版本大于 v4.0.0，可以直接在子目录里添加 hide 隐藏子目录，如下面的 List</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  Home: / || fas fa-home</span><br><span class="line">  Archives: /archives/ || fas fa-archive</span><br><span class="line">  Tags: /tags/ || fas fa-tags</span><br><span class="line">  Categories: /categories/ || fas fa-folder-open</span><br><span class="line">  List||fas fa-list||hide:</span><br><span class="line">   Music: /music/ || fas fa-music</span><br><span class="line">    Movie: /movies/ || fas fa-video</span><br><span class="line">  Link: /link/ || fas fa-link</span><br><span class="line">  About: /about/ || fas fa-heart</span><br></pre></td></tr></table></figure><ul><li>文字可自行更改，中英文都可以</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  首页: / || fas fa-home</span><br><span class="line">  时间轴: /archives/ || fas fa-archive</span><br><span class="line">  标签: /tags/ || fas fa-tags</span><br><span class="line">  分类: /categories/ || fas fa-folder-open</span><br><span class="line">  清单||fa fa-heartbeat:</span><br><span class="line">    音乐: /music/ || fas fa-music</span><br><span class="line">    照片: /Gallery/ || fas fa-images</span><br><span class="line">    电影: /movies/ || fas fa-video</span><br><span class="line">  友链: /link/ || fas fa-link</span><br><span class="line">  关于: /about/ || fas fa-heart</span><br></pre></td></tr></table></figure><p>最终效果如下图所示：</p><p><a href="https://s1.vika.cn/space/2022/10/29/08530571ff2f44c3b7419bfdbf66f8c6"><img src="https://s1.vika.cn/space/2022/10/29/08530571ff2f44c3b7419bfdbf66f8c6" alt="image-20221029173243861"></a></p><h2 id="5-代码"><a href="#5-代码" class="headerlink" title="5. 代码"></a>5. 代码</h2><h3 id="5-1-代码高亮主题"><a href="#5-1-代码高亮主题" class="headerlink" title="5.1 代码高亮主题"></a>5.1 代码高亮主题</h3><p>Butterfly 支持 6 种代码高亮样式：</p><ul><li>darker</li><li>pale night</li><li>light</li><li>ocean</li><li>mac</li><li>mac light</li></ul><p>修改主题配置文件<code>_config.butterfly.yml</code>。中的 <code>highlight_theme</code> 属性。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_theme: darker</span><br></pre></td></tr></table></figure><p><a href="https://bu.dusays.com/2022/05/31/62962018a84e7.webp"><img src="https://bu.dusays.com/2022/05/31/62962018a84e7.webp" alt="img"></a></p><h3 id="5-2-代码复制"><a href="#5-2-代码复制" class="headerlink" title="5.2 代码复制"></a>5.2 代码复制</h3><p>修改主题配置文件<code>_config.butterfly.yml</code> 中的 <code>highlight_copy</code> 属性，<code>true</code> 表示可以复制。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_copy: true</span><br></pre></td></tr></table></figure><p><a href="https://s1.vika.cn/space/2022/10/29/af884592171e423c9be632b82932d9d1"><img src="https://s1.vika.cn/space/2022/10/29/af884592171e423c9be632b82932d9d1" alt="image-20221029173420960"></a></p><h3 id="5-3-代码框展开-x2F-关闭"><a href="#5-3-代码框展开-x2F-关闭" class="headerlink" title="5.3 代码框展开 &#x2F; 关闭"></a>5.3 代码框展开 &#x2F; 关闭</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>。中的 <code>highlight_shrink</code> 属性。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_shrink: true #代码框不展开，需点击 &#x27;&gt;&#x27; 打开</span><br></pre></td></tr></table></figure><p>在默认情况下，代码框自动展开，可设置是否所有代码框都关闭状态，点击 &gt; 可展开代码。</p><ul><li>true 全部代码框不展开，需点击 &gt; 打开</li><li>false 代码框展开，有 &gt; 点击按钮</li><li>none 不显示 &gt; 按钮</li></ul><p><a href="https://s1.vika.cn/space/2022/10/29/fd17fb642e08403bae6554df4ae714f0"><img src="https://s1.vika.cn/space/2022/10/29/fd17fb642e08403bae6554df4ae714f0" alt="image-20221029173458309"></a></p><h3 id="5-4-代码换行"><a href="#5-4-代码换行" class="headerlink" title="5.4 代码换行"></a>5.4 代码换行</h3><p>在默认情况下，Hexo 在编译的时候不会实现代码自动换行。如果你不希望在代码块的区域里有横向滚动条的话，那么你可以考虑开启这个功能。</p><p>修改主题配置文件<code>_config.butterfly.yml</code>。中的 <code>code_word_wrap</code> 属性。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code_word_wrap: true</span><br></pre></td></tr></table></figure><h3 id="5-5-代码高度限制"><a href="#5-5-代码高度限制" class="headerlink" title="5.5 代码高度限制"></a>5.5 代码高度限制</h3><p>可配置代码高度限制，超出的部分会隐藏，并显示展开按钮。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">highlight_height_limit: false # unit: px</span><br></pre></td></tr></table></figure><ol><li>单位是 <code>px</code>，直接添加数字，如 200</li><li>实际限制高度为 <code>highlight_height_limit + 30 px</code> ，多增加 30px 限制，目的是避免代码高度只超出 highlight_height_limit 一点时，出现展开按钮，展开没内容。</li><li>不适用于隐藏后的代码块（ css 设置 <code>display: none</code>）。</li></ol><p><a href="https://s1.vika.cn/space/2022/10/29/86c397c8ec81428dadfb059b92716334"><img src="https://s1.vika.cn/space/2022/10/29/86c397c8ec81428dadfb059b92716334" alt="image-20221029173522172"></a></p><h2 id="6-社交图标"><a href="#6-社交图标" class="headerlink" title="6. 社交图标"></a>6. 社交图标</h2><p><code>Butterfly</code> 支持 <a href="https://fontawesome.com/icons?from=io">font-awesome v6</a> 图标。</p><p>书写格式：<code>图标名：url || 描述性文字</code>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  fab fa-github: https://github.com/xxxxx || Github</span><br><span class="line">  fas fa-envelope: mailto:xxxxxx@gmail.com || Email</span><br></pre></td></tr></table></figure><p><a href="https://s1.vika.cn/space/2022/10/29/97e3e8b88a6b4c75b6d042a6aa481ab2"><img src="https://s1.vika.cn/space/2022/10/29/97e3e8b88a6b4c75b6d042a6aa481ab2" alt="image-20221029173631192"></a></p><h2 id="7-顶部图"><a href="#7-顶部图" class="headerlink" title="7. 顶部图"></a>7. 顶部图</h2><p>如果不要显示顶部图，可直接配置 <code>disable_top_img: true</code>。</p><table><thead><tr><th>配置</th><th>解释</th></tr></thead><tbody><tr><td>index_img</td><td>主页的 top_img</td></tr><tr><td>default_top_img</td><td>默认的 top_img，当页面的 top_img 没有配置时，会显示 default_top_img</td></tr><tr><td>archive_img</td><td>归档页面的 top_img</td></tr><tr><td>tag_img</td><td>tag 子页面 的 默认 top_img</td></tr><tr><td>tag_per_img</td><td>tag 子页面的 top_img，可配置每个 tag 的 top_img</td></tr><tr><td>category_img</td><td>category 子页面 的 默认 top_img</td></tr><tr><td>category_per_img</td><td>category 子页面的 top_img，可配置每个 category 的 top_img</td></tr></tbody></table><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index_img: xxx.png</span><br></pre></td></tr></table></figure><p>其它页面 （tags&#x2F;categories&#x2F; 自建页面）和文章页的 <code>top_img</code>，请到对应的 md 页面设置 <code>front-matter</code> 中的 <code>top_img</code>。</p><h2 id="8-文章置顶与封面"><a href="#8-文章置顶与封面" class="headerlink" title="8. 文章置顶与封面"></a>8. 文章置顶与封面</h2><ol><li>你可以直接在文章的 <code>front-matter</code> 区域里添加 <code>sticky: 1</code> 属性来把这篇文章置顶。数值越大，置顶的优先级越大。</li><li>文章的 markdown 文档上，在 <code>Front-matter</code> 添加 <code>cover</code>，并填上要显示的图片地址。如果不配置 <code>cover</code>，可以设置显示默认的 <code>cover</code>；如果不想在首页显示 cover，可以设置为 <code>false</code>。<br>修改主题配置文件<code>_config.butterfly.yml</code>。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cover:</span><br><span class="line">  # 是否显示文章封面</span><br><span class="line">  index_enable: true</span><br><span class="line">  aside_enable: true</span><br><span class="line">  archives_enable: true</span><br><span class="line">  # 封面显示的位置</span><br><span class="line">  # 三个值可配置 left , right , both</span><br><span class="line">  position: both</span><br><span class="line">  # 当没有设置cover时，默认的封面显示</span><br><span class="line">  default_cover: </span><br></pre></td></tr></table></figure><p>当配置多张图片时，会随机选择一张作为 cover，此时写法应为：</p><ol><li>&#96;&#96;&#96;<br>default_cover:<ul><li><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png</a></li><li><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png</a></li><li><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png</a><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[![image-20221029173703144](https://s1.vika.cn/space/2022/10/29/e9c6f655967b483690c4b8f8fd24b904)](https://s1.vika.cn/space/2022/10/29/e9c6f655967b483690c4b8f8fd24b904)</span><br><span class="line"></span><br><span class="line">## 9. 文章页相关配置</span><br><span class="line"></span><br><span class="line">### 9.1 文章 meta 显示</span><br><span class="line"></span><br><span class="line">`post_meta` 这个属性用于显示文章的相关信息的，修改主题配置文件`_config.butterfly.yml`。</span><br><span class="line"></span><br></pre></td></tr></table></figure>post_meta:<br>  page:<br> date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示<br> date_format: relative # date&#x2F;relative 显示日期还是相对日期<br> categories: true # true or false 主页是否显示分类<br> tags: true # true or false 主页是否显示标签<br> label: true # true or false 显示描述性文字<br>  post:<br> date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示<br> date_format: relative # date&#x2F;relative 显示日期还是相对日期<br> categories: true # true or false 文章页是否显示分类<br> tags: true # true or false 文章页是否显示标签<br> label: true # true or false 显示描述性文字<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 9.2 文章版权和协议许可</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure>post_copyright:<br>  enable: true<br>  decode: false<br>  author_href:<br>  license: CC BY-NC-SA 4.0<br>  license_url: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">https://creativecommons.org/licenses/by-nc-sa/4.0/</a><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">由于 `Hexo 4.1` 开始，默认对网址进行解码，以至于如果是中文网址，会被解码，可设置 `decode: true` 来显示中文网址。如果有文章（例如：转载文章）不需要显示版权，可以在文章页 `Front-matter` 中单独设置。</span><br><span class="line"></span><br></pre></td></tr></table></figure>copyright: false<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">从 `v3.0.0` 开始，支持对单独文章设置版权信息，可以在文章 Front-matter 单独设置。</span><br><span class="line"></span><br></pre></td></tr></table></figure>post_copyright:<br>copyright_author: xxxx<br>copyright_author_href: <a href="https://xxxxxx.com/">https://xxxxxx.com</a><br>copyright_url: <a href="https://xxxxxx.com/">https://xxxxxx.com</a><br>copyright_info: 此文章版权归xxxxx所有，如有转载，请註明来自原作者<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[![image-20221029173741784](https://s1.vika.cn/space/2022/10/29/39720529b18d48258f6f575d9694b009)](https://s1.vika.cn/space/2022/10/29/39720529b18d48258f6f575d9694b009)</span><br><span class="line"></span><br><span class="line">### 9.3 文章打赏</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure>reward:<br>  enable: false<br>  QR_code:</li><li>img: &#x2F;img&#x2F;wechat.jpg<br>link:<br>text: wechat</li><li>img: &#x2F;img&#x2F;alipay.jpg<br>link:<br>text: alipay<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 9.4 文章目录 TOC</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`。</span><br><span class="line"></span><br></pre></td></tr></table></figure>toc:<br>  post: true # 文章页是否显示 TOC<br>  page: false # 普通页面是否显示 TOC<br>  number: true # 是否显示章节数<br>  expand: false# 是否展开 TOC<br>  style_simple: false # for post 简洁模式（侧边栏只显示 TOC, 只对文章页有效 ）<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[![image-20221029173812311](https://s1.vika.cn/space/2022/10/29/b40a3447a5d043a5bf8623ecb2fe128a)](https://s1.vika.cn/space/2022/10/29/b40a3447a5d043a5bf8623ecb2fe128a)</span><br><span class="line"></span><br><span class="line">### 9.5 相关文章推荐</span><br><span class="line"></span><br><span class="line">相关文章推荐的原理是根据文章 tags 的比重来推荐，修改主题配置文件`_config.butterfly.yml`。</span><br><span class="line"></span><br></pre></td></tr></table></figure>related_post:<br>  enable: true<br>  limit: 6 # 显示推荐文章数目<br>  date_type: created # or created or updated 文章日期显示创建日或者更新日<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 9.6 文章锚点</span><br><span class="line"></span><br><span class="line">开启文章锚点后，当你在文章页进行滚动时，文章链接会根据标题 ID 进行替换。</span><br><span class="line"></span><br><span class="line">注意：每替换一次，会留下一个歷史记录。所以如果一篇文章有很多锚点的话，网页的歷史记录会很多。</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`。</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul></li></ol><h1 id="anchor"><a href="#anchor" class="headerlink" title="anchor"></a>anchor</h1><h1 id="when-you-scroll-in-post-the-url-will-update-according-to-header-id"><a href="#when-you-scroll-in-post-the-url-will-update-according-to-header-id" class="headerlink" title="when you scroll in post , the url will update according to header id."></a>when you scroll in post , the url will update according to header id.</h1><p>anchor: true</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 9.7 文章过期提醒</span><br><span class="line"></span><br><span class="line">可设置是否显示文章过期提醒，以更新时间为基准。</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Displays-outdated-notice-for-a-post-文章过期提醒"><a href="#Displays-outdated-notice-for-a-post-文章过期提醒" class="headerlink" title="Displays outdated notice for a post (文章过期提醒)"></a>Displays outdated notice for a post (文章过期提醒)</h1><p>noticeOutdate:<br>  enable: true<br>  style: flat # style: simple&#x2F;flat<br>  limit_day: 365 # 距离更新时间多少天才显示文章过期提醒<br>  position: top # position: top&#x2F;bottom<br>  message_prev: It has been # 天数之前的文字<br>  message_next: days since the last update, the content of the article may be outdated. # 天数之后的文字</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 9.8 文章分页按钮</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="post-pagination-分页"><a href="#post-pagination-分页" class="headerlink" title="post_pagination (分页)"></a>post_pagination (分页)</h1><h1 id="value-1-2-false-false-为关闭分页按钮；1-下一篇显示的是旧文章；2-下一篇显示的是新文章"><a href="#value-1-2-false-false-为关闭分页按钮；1-下一篇显示的是旧文章；2-下一篇显示的是新文章" class="headerlink" title="value: 1 || 2 || false# false:为关闭分页按钮；1:下一篇显示的是旧文章；2:下一篇显示的是新文章"></a>value: 1 || 2 || false# false:为关闭分页按钮；1:下一篇显示的是旧文章；2:下一篇显示的是新文章</h1><h1 id="1-The-‘next-post’-will-link-to-old-post"><a href="#1-The-‘next-post’-will-link-to-old-post" class="headerlink" title="1: The ‘next post’ will link to old post"></a>1: The ‘next post’ will link to old post</h1><h1 id="2-The-‘next-post’-will-link-to-new-post"><a href="#2-The-‘next-post’-will-link-to-new-post" class="headerlink" title="2: The ‘next post’ will link to new post"></a>2: The ‘next post’ will link to new post</h1><h1 id="false-disable-pagination"><a href="#false-disable-pagination" class="headerlink" title="false: disable pagination"></a>false: disable pagination</h1><p>post_pagination: false</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[![image-20221029173929409](https://s1.vika.cn/space/2022/10/29/7e0ca16646c4487895c7f1f792d87f92)](https://s1.vika.cn/space/2022/10/29/7e0ca16646c4487895c7f1f792d87f92)</span><br><span class="line"></span><br><span class="line">## 10. 头像</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>avatar:<br>  img: &#x2F;assets&#x2F;head.jpg<br>  effect: false # true则会一直转圈</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[![image-20221028141401289](https://s1.vika.cn/space/2022/10/28/0904865b6c0c4e1080078bc34b836082)](https://s1.vika.cn/space/2022/10/28/0904865b6c0c4e1080078bc34b836082)</span><br><span class="line"></span><br><span class="line">## 11. 文章内容复制相关配置</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="copy-settings"><a href="#copy-settings" class="headerlink" title="copy settings"></a>copy settings</h1><h1 id="copyright-Add-the-copyright-information-after-copied-content-复制的内容后面加上版权信息"><a href="#copyright-Add-the-copyright-information-after-copied-content-复制的内容后面加上版权信息" class="headerlink" title="copyright: Add the copyright information after copied content (复制的内容后面加上版权信息)"></a>copyright: Add the copyright information after copied content (复制的内容后面加上版权信息)</h1><p>copy:<br>  enable: true# 是否开启网站复制权限<br>  copyright:# 复制的内容后面加上版权信息<br>    enable: true# 是否开启复制版权信息添加<br>    limit_count: 50# 字数限制，当复制文字大于这个字数限制时，将在复制的内容后面加上版权信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 12.Footer 设置</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>footer:<br>  owner:<br>    enable: true<br>    since: 2022# 站点起始时间<br>  custom_text:# 是一个给你用来在页脚自定义文本的选项。通常你可以在这里写声明文本等,支持 HTML。<br>  copyright: false # Copyright of theme and framework</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">可以参考 tzy 大佬的的 `custom_text` 填写示例：</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>custom_text: I wish you to become your own sun, no need to rely on who’s light.<p><a target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a>&amp;nbsp;<a target="_blank" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用butterfly"></a>&amp;nbsp;<a target="_blank" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="本站使用JsDelivr为静态资源提供CDN加速"></a> &amp;nbsp;<a target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&logo=Vercel" title="本站采用双线部署，默认线路托管于Vercel"></a>&amp;nbsp;<a target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&logo=Codio" title="本站采用双线部署，联通线路托管于Coding"></a>&amp;nbsp;<a target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由Gtihub托管"></a>&amp;nbsp;<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[![img](https://bu.dusays.com/2022/06/01/6296491902973.jpg)](https://bu.dusays.com/2022/06/01/6296491902973.jpg)</span><br><span class="line"></span><br><span class="line">对于部分人需要写 ICP 的，也可以写在 custom_text 里。</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>custom_text: <a href="icp链接"><img class="icp-icon" src="icp图片"><span>备案号：xxxxxx</span></a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 13. 右下角按钮</span><br><span class="line"></span><br><span class="line">### 13.1 简繁转换</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>translate:<br>  enable: false</p><h1 id="默认按钮显示文字-网站是简体，应设置为’default-繁’"><a href="#默认按钮显示文字-网站是简体，应设置为’default-繁’" class="headerlink" title="默认按钮显示文字(网站是简体，应设置为’default: 繁’)"></a>默认按钮显示文字(网站是简体，应设置为’default: 繁’)</h1><p>  default: 繁</p><h1 id="the-language-of-website-1-Traditional-Chinese-x2F-2-Simplified-Chinese）"><a href="#the-language-of-website-1-Traditional-Chinese-x2F-2-Simplified-Chinese）" class="headerlink" title="the language of website (1 - Traditional Chinese&#x2F; 2 - Simplified Chinese）"></a>the language of website (1 - Traditional Chinese&#x2F; 2 - Simplified Chinese）</h1><h1 id="网站默认语言，1-繁体中文-2-简体中文"><a href="#网站默认语言，1-繁体中文-2-简体中文" class="headerlink" title="网站默认语言，1: 繁体中文, 2: 简体中文"></a>网站默认语言，1: 繁体中文, 2: 简体中文</h1><p>  defaultEncoding: 2</p><h1 id="Time-delay-延迟时间-若不在前-要设定延迟翻译时间-如100表示100ms-默认为0"><a href="#Time-delay-延迟时间-若不在前-要设定延迟翻译时间-如100表示100ms-默认为0" class="headerlink" title="Time delay 延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0"></a>Time delay 延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0</h1><p>  translateDelay: 0</p><h1 id="当文字是简体时，按钮显示的文字"><a href="#当文字是简体时，按钮显示的文字" class="headerlink" title="当文字是简体时，按钮显示的文字"></a>当文字是简体时，按钮显示的文字</h1><p>  msgToTraditionalChinese: ‘繁’</p><h1 id="当文字是繁体时，按钮显示的文字"><a href="#当文字是繁体时，按钮显示的文字" class="headerlink" title="当文字是繁体时，按钮显示的文字"></a>当文字是繁体时，按钮显示的文字</h1><p>  msgToSimplifiedChinese: ‘簡’</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 13.2 夜间模式</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="dark-mode"><a href="#dark-mode" class="headerlink" title="dark mode"></a>dark mode</h1><p>darkmode:<br>  enable: false</p><h1 id="dark-和-light-两种模式切换按钮"><a href="#dark-和-light-两种模式切换按钮" class="headerlink" title="dark 和 light 两种模式切换按钮"></a>dark 和 light 两种模式切换按钮</h1><p>  button: true</p><h1 id="Switch-dark-x2F-light-mode-automatically-自動切換-dark-mode和-light-mode"><a href="#Switch-dark-x2F-light-mode-automatically-自動切換-dark-mode和-light-mode" class="headerlink" title="Switch dark&#x2F;light mode automatically (自動切換 dark mode和 light mode)"></a>Switch dark&#x2F;light mode automatically (自動切換 dark mode和 light mode)</h1><h1 id="autoChangeMode-1-Following-System-Settings-if-the-system-doesn’t-support-dark-mode-it-will-switch-dark-mode-between-6-pm-to-6-am"><a href="#autoChangeMode-1-Following-System-Settings-if-the-system-doesn’t-support-dark-mode-it-will-switch-dark-mode-between-6-pm-to-6-am" class="headerlink" title="autoChangeMode: 1  Following System Settings, if the system doesn’t support dark mode, it will switch dark mode between 6 pm to 6 am"></a>autoChangeMode: 1  Following System Settings, if the system doesn’t support dark mode, it will switch dark mode between 6 pm to 6 am</h1><h1 id="autoChangeMode-2-Switch-dark-mode-between-6-pm-to-6-am"><a href="#autoChangeMode-2-Switch-dark-mode-between-6-pm-to-6-am" class="headerlink" title="autoChangeMode: 2  Switch dark mode between 6 pm to 6 am"></a>autoChangeMode: 2  Switch dark mode between 6 pm to 6 am</h1><h1 id="autoChangeMode-false"><a href="#autoChangeMode-false" class="headerlink" title="autoChangeMode: false"></a>autoChangeMode: false</h1><p>  autoChangeMode: false</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">v2.0.0 开始增加一个选项，可开启自动切换 light mode 和 dark mode。</span><br><span class="line"></span><br><span class="line">- `autoChangeMode: 1` 跟随系统而变化，不支持的浏览器 / 系统将按照时间晚上 6 点到早上 6 点之间切换为 dark mode。</span><br><span class="line">- `autoChangeMode: 2` 只按照时间 晚上 6 点到早上 6 点之间切换为 dark mode, 其余时间为 light mode。</span><br><span class="line">- `autoChangeMode: false` 取消自动切换。</span><br><span class="line"></span><br><span class="line">### 13.3 阅读模式</span><br><span class="line"></span><br><span class="line">阅读模式下会去掉除文章外的内容，避免干扰阅读。只会出现在文章页面，右下角会有阅读模式按钮。</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>readmode: true</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 14. 侧边栏设置</span><br><span class="line"></span><br><span class="line">### 14.1 排版</span><br><span class="line"></span><br><span class="line">可自行决定哪个项目需要显示，可决定位置，也可以设置不显示侧边栏。</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`，下面是本人博客的配置项可以参考</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>aside:<br>  enable: true<br>  hide: false<br>  button: true<br>  mobile: true # display on mobile<br>  position: right # left or right<br>  display:<br>    archive: true<br>    tag: true<br>    category: true<br>  card_author:<br>    enable: true<br>    description:<br>    button:<br>      enable: true<br>      icon: # fab fa-github<br>      text: 🛴前往小家…<br>      link: <a href="https://github.com/fomalhaut1998">https://github.com/fomalhaut1998</a><br>  card_announcement:<br>    enable: true<br>    content: <center>主域名：<br><a href="https://www.fomal.cc"><b><font color="#5ea6e5">fomal.cc</font></b></a>&amp;nbsp;|&amp;nbsp;<a href="https://www.fomal.cn"><b><font color="#5ea6e5">fomal.cn</font></b></a><br>备用域名：<br><a href="https://blog.fomal.cc"><b><font color="#5ea6e5">blog.fomal.cc</font></b></a><br><a href="https://aa.fomal.cc"><b><font color="#5ea6e5">aa.fomal.cc</font></b></a><br><a href="https://bb.fomal.cc"><b><font color="#5ea6e5">bb.fomal.cc</font></b></a><br><a href="mailto:admin@fomal.cn">📬：<b><font color="#a591e0">admin@fomal.cn</font></b></a></center><br>  card_recent_post:<br>    enable: false<br>    limit: 3 # if set 0 will show all<br>    sort: date # date or updated<br>    sort_order: # Don’t modify the setting unless you know how it works<br>  card_categories:<br>    enable: false<br>    limit: 8 # if set 0 will show all<br>    expand: none # none&#x2F;true&#x2F;false<br>    sort_order: # Don’t modify the setting unless you know how it works<br>  card_tags:<br>    enable: false<br>    limit: 20 # if set 0 will show all<br>    color: true<br>    sort_order: # Don’t modify the setting unless you know how it works<br>  card_archives:<br>    enable: false<br>    type: monthly # yearly or monthly<br>    format: MMMM YYYY # eg: YYYY年MM月<br>    order: -1 # Sort of order. 1, asc for ascending; -1, desc for descending<br>    limit: 8 # if set 0 will show all<br>    sort_order: # Don’t modify the setting unless you know how it works<br>  card_webinfo:<br>    enable: true<br>    post_count: true<br>    last_push_date: true<br>    sort_order: # Don’t modify the setting unless you know how it works<br>  card_weibo:<br>    enable: true</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 14.2 访问人数 (UV 和 PV)</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>busuanzi:<br>  site_uv: true  # 本站总访客数<br>  site_pv: true  # 本站总访问量<br>  page_pv: true  # 本文总阅读量</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 14.3 运行时间</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Time-difference-between-publish-date-and-now-網頁運行時間"><a href="#Time-difference-between-publish-date-and-now-網頁運行時間" class="headerlink" title="Time difference between publish date and now (網頁運行時間)"></a>Time difference between publish date and now (網頁運行時間)</h1><h1 id="Formal-Month-x2F-Day-x2F-Year-Time-or-Year-x2F-Month-x2F-Day-Time"><a href="#Formal-Month-x2F-Day-x2F-Year-Time-or-Year-x2F-Month-x2F-Day-Time" class="headerlink" title="Formal: Month&#x2F;Day&#x2F;Year Time or Year&#x2F;Month&#x2F;Day Time"></a>Formal: Month&#x2F;Day&#x2F;Year Time or Year&#x2F;Month&#x2F;Day Time</h1><p>runtimeshow:<br>  enable: false<br>  publish_date: 8&#x2F;9&#x2F;2022 00:00:00<br>  ##网页开通时间<br>  #格式: 月&#x2F;日&#x2F;年 时间<br>  #也可以写成 年&#x2F;月&#x2F;日 时间</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 14.4 最新评论</span><br><span class="line"></span><br><span class="line">`v3.1.0` 以上支持。如果未配置任何评论，前先不要开启该功能。</span><br><span class="line"></span><br><span class="line">最新评论只会在刷新时才会去读取，并不会实时变化。</span><br><span class="line">由于 API 有 访问次数限制，为了避免调用太多，主题默认存取期限为 10 分鐘。也就是説，调用后资料会存在 `localStorage` 里，10 分鐘内刷新网站只会去 `localStorage` 读取资料。 10 分鐘期限一过，刷新页面时才会去调取 API 读取新的数据。（3.6.0 新增了 storage 配置，可自行配置缓存时间）。</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Aside-widget-Newest-Comments"><a href="#Aside-widget-Newest-Comments" class="headerlink" title="Aside widget - Newest Comments"></a>Aside widget - Newest Comments</h1><p>newest_comments:<br>  enable: true<br>  sort_order: # Don’t modify the setting unless you know how it works<br>  limit: 6  # 显示的数量<br>  storage: 10 # 设置缓存时间，单位 分钟<br>  avatar: true # 是否显示头像</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 15. 网站背景</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="图片格式-url-http-xxxxxx-com-xxx-jpg"><a href="#图片格式-url-http-xxxxxx-com-xxx-jpg" class="headerlink" title="图片格式 url(http://xxxxxx.com/xxx.jpg)"></a>图片格式 url(<a href="http://xxxxxx.com/xxx.jpg">http://xxxxxx.com/xxx.jpg</a>)</h1><h1 id="颜色（HEX值-x2F-RGB值-x2F-颜色单词-x2F-渐变色"><a href="#颜色（HEX值-x2F-RGB值-x2F-颜色单词-x2F-渐变色" class="headerlink" title="颜色（HEX值&#x2F;RGB值&#x2F;颜色单词&#x2F;渐变色)"></a>颜色（HEX值&#x2F;RGB值&#x2F;颜色单词&#x2F;渐变色)</h1><h1 id="留空-不显示背景"><a href="#留空-不显示背景" class="headerlink" title="留空 不显示背景"></a>留空 不显示背景</h1><p>background: url(<a href="https://source.fomal.cc/img/dm1.webp">https://source.fomal.cc/img/dm1.webp</a>)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">如果你的网站根目录不是`&#x27;/&#x27;`，使用本地图片时，需加上你的根目录。</span><br><span class="line">例如：网站是 `https://yoursite.com/blog`，引用一张 `img/xx.png` 图片，则设置 `background` 为 `url(/blog/img/xx.png)`</span><br><span class="line"></span><br><span class="line">## 16. 打字效果</span><br><span class="line"></span><br><span class="line">详见：[activate-power-mode](https://github.com/disjukr/activate-power-mode)</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Typewriter-Effect-打字效果"><a href="#Typewriter-Effect-打字效果" class="headerlink" title="Typewriter Effect (打字效果)"></a>Typewriter Effect (打字效果)</h1><h1 id="https-github-com-disjukr-activate-power-mode"><a href="#https-github-com-disjukr-activate-power-mode" class="headerlink" title="https://github.com/disjukr/activate-power-mode"></a><a href="https://github.com/disjukr/activate-power-mode">https://github.com/disjukr/activate-power-mode</a></h1><p>activate_power_mode:<br>  enable: false<br>  colorful: true # open particle animation (冒光特效)<br>  shake: true #  open shake (抖動特效)<br>  mobile: false</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[![img](data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)](https://fastly.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-type-animation.gif)</span><br><span class="line"></span><br><span class="line">## 17.footer 背景</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="footer是否显示图片背景-与top-img一致"><a href="#footer是否显示图片背景-与top-img一致" class="headerlink" title="footer是否显示图片背景(与top_img一致)"></a>footer是否显示图片背景(与top_img一致)</h1><p>footer_bg: true</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- `留空/false`：显示默认的颜色</span><br><span class="line">- `图片链接`：显示所配置的图片</span><br><span class="line">- `颜色包括HEX值 - #0000FF | RGB值 - rgb(0,0,255) | 颜色单词 - orange | 渐变色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%)`：对应的颜色</span><br><span class="line">- `true`：显示跟 top_img 一样</span><br><span class="line"></span><br><span class="line">## 18. 背景特效</span><br><span class="line"></span><br><span class="line">可设置每次刷新更换彩带，或者每次点击更换彩带。详细配置可查看 [canvas_ribbon](https://github.com/hustcc/ribbon.js)</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>canvas_ribbon:<br>  enable: false<br>  size: 150<br>  alpha: 0.6<br>  zIndex: -1<br>  click_to_change: false  #設置是否每次點擊都更換彩带<br>  mobile: false # false 手機端不顯示 true 手機端顯示</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[![img](data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)](https://fastly.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-canvas-ribbon.png)</span><br><span class="line"></span><br><span class="line">## 19. 鼠标点击效果</span><br><span class="line"></span><br><span class="line">`zIndex` 建议只在 `-1` 和 `9999` 上选。</span><br><span class="line">`-1` 代表烟火效果在底部。</span><br><span class="line">`9999` 代表烟火效果在前面。</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml`</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>fireworks:<br>  enable: true<br>  zIndex: 9999 # -1 or 9999<br>  mobile: false</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[![img](data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)](https://fastly.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-firewall.gif)</span><br><span class="line"></span><br><span class="line">## 20. 自定义字体和字体大小</span><br><span class="line"></span><br><span class="line">### 20.1 全局字体</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml` 中的 `font-family` 属性即可，如不需要配置，请留空。</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Global-font-settings"><a href="#Global-font-settings" class="headerlink" title="Global font settings"></a>Global font settings</h1><h1 id="Don’t-modify-the-following-settings-unless-you-know-how-they-work-非必要不要修改"><a href="#Don’t-modify-the-following-settings-unless-you-know-how-they-work-非必要不要修改" class="headerlink" title="Don’t modify the following settings unless you know how they work (非必要不要修改)"></a>Don’t modify the following settings unless you know how they work (非必要不要修改)</h1><p>font:<br>  global-font-size: ‘15px’<br>  code-font-size: ‘14px’</p><h1 id="apple-system-BlinkMacSystemFont-“Segoe-UI”-“Helvetica-Neue”-Lato-Roboto-“PingFang-SC”-“Microsoft-JhengHei”-“Microsoft-YaHei”-sans-serif"><a href="#apple-system-BlinkMacSystemFont-“Segoe-UI”-“Helvetica-Neue”-Lato-Roboto-“PingFang-SC”-“Microsoft-JhengHei”-“Microsoft-YaHei”-sans-serif" class="headerlink" title="-apple-system, BlinkMacSystemFont, “Segoe UI” , “Helvetica Neue” , Lato, Roboto, “PingFang SC” , “Microsoft JhengHei” , “Microsoft YaHei” , sans-serif"></a>-apple-system, BlinkMacSystemFont, “Segoe UI” , “Helvetica Neue” , Lato, Roboto, “PingFang SC” , “Microsoft JhengHei” , “Microsoft YaHei” , sans-serif</h1><h1 id="Wenkai-consolas-apple-system-‘Quicksand’-‘Nimbus-Roman-No9-L’-‘PingFang-SC’-‘Hiragino-Sans-GB’-‘Noto-Serif-SC’-‘Microsoft-Yahei’-‘WenQuanYi-Micro-Hei’-‘ST-Heiti’-sans-serif"><a href="#Wenkai-consolas-apple-system-‘Quicksand’-‘Nimbus-Roman-No9-L’-‘PingFang-SC’-‘Hiragino-Sans-GB’-‘Noto-Serif-SC’-‘Microsoft-Yahei’-‘WenQuanYi-Micro-Hei’-‘ST-Heiti’-sans-serif" class="headerlink" title="Wenkai, consolas, -apple-system, ‘Quicksand’, ‘Nimbus Roman No9 L’, ‘PingFang SC’, ‘Hiragino Sans GB’, ‘Noto Serif SC’, ‘Microsoft Yahei’, ‘WenQuanYi Micro Hei’, ‘ST Heiti’, sans-serif;"></a>Wenkai, consolas, -apple-system, ‘Quicksand’, ‘Nimbus Roman No9 L’, ‘PingFang SC’, ‘Hiragino Sans GB’, ‘Noto Serif SC’, ‘Microsoft Yahei’, ‘WenQuanYi Micro Hei’, ‘ST Heiti’, sans-serif;</h1><p>  font-family: var(–global-font), Consolas_1, -apple-system, ‘Quicksand’, ‘Nimbus Roman No9 L’, ‘PingFang SC’, ‘Hiragino Sans GB’, ‘Noto Serif SC’, ‘Microsoft Yahei’, ‘WenQuanYi Micro Hei’, ‘ST Heiti’, sans-serif;</p><h1 id="consolas-ZhuZiAWan-light-“Microsoft-YaHei”-Menlo-“PingFang-SC”-“Microsoft-JhengHei”-sans-serif"><a href="#consolas-ZhuZiAWan-light-“Microsoft-YaHei”-Menlo-“PingFang-SC”-“Microsoft-JhengHei”-sans-serif" class="headerlink" title="consolas, ZhuZiAWan_light, “Microsoft YaHei”, Menlo, “PingFang SC”, “Microsoft JhengHei”, sans-serif"></a>consolas, ZhuZiAWan_light, “Microsoft YaHei”, Menlo, “PingFang SC”, “Microsoft JhengHei”, sans-serif</h1><h1 id="Consolas-1-ZhuZiAWan-light-“Microsoft-YaHei”-Menlo-“PingFang-SC”-“Microsoft-JhengHei”-sans-serif"><a href="#Consolas-1-ZhuZiAWan-light-“Microsoft-YaHei”-Menlo-“PingFang-SC”-“Microsoft-JhengHei”-sans-serif" class="headerlink" title="Consolas_1, ZhuZiAWan_light, “Microsoft YaHei”, Menlo, “PingFang SC”, “Microsoft JhengHei”, sans-serif"></a>Consolas_1, ZhuZiAWan_light, “Microsoft YaHei”, Menlo, “PingFang SC”, “Microsoft JhengHei”, sans-serif</h1><p>  code-font-family: Consolas_1, var(–global-font), “Microsoft YaHei”, Menlo, “PingFang SC”, “Microsoft JhengHei”, sans-serif</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 20.2 Blog 标题字体</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml` 中的 `blog_title_font` 属性即可，如不需要配置，请留空。</span><br><span class="line">如不需要使用网络字体，只需要把 font_link 留空就行。</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Font-settings-for-the-site-title-and-site-subtitle"><a href="#Font-settings-for-the-site-title-and-site-subtitle" class="headerlink" title="Font settings for the site title and site subtitle"></a>Font settings for the site title and site subtitle</h1><h1 id="https-fonts-googleapis-com-css-family-Titillium-Web-amp-display-swap"><a href="#https-fonts-googleapis-com-css-family-Titillium-Web-amp-display-swap" class="headerlink" title="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"></a><a href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap">https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap</a></h1><h1 id="Titillium-Web-‘PingFang-SC’-‘Hiragino-Sans-GB’-‘Microsoft-JhengHei’-‘Microsoft-YaHei’-sans-serif"><a href="#Titillium-Web-‘PingFang-SC’-‘Hiragino-Sans-GB’-‘Microsoft-JhengHei’-‘Microsoft-YaHei’-sans-serif" class="headerlink" title="Titillium Web, ‘PingFang SC’ , ‘Hiragino Sans GB’ , ‘Microsoft JhengHei’ , ‘Microsoft YaHei’ , sans-serif"></a>Titillium Web, ‘PingFang SC’ , ‘Hiragino Sans GB’ , ‘Microsoft JhengHei’ , ‘Microsoft YaHei’ , sans-serif</h1><h1 id="左上角網站名字-主頁居中網站名字"><a href="#左上角網站名字-主頁居中網站名字" class="headerlink" title="左上角網站名字 主頁居中網站名字"></a>左上角網站名字 主頁居中網站名字</h1><p>blog_title_font:<br>  font_link:<br>  font-family: var(–global-font)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 21. 网站副标题</span><br><span class="line"></span><br><span class="line">可设置主页中显示的网站副标题或者喜欢的座右铭。</span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml` 中的 `subtitle`</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="the-subtitle-on-homepage-主頁subtitle"><a href="#the-subtitle-on-homepage-主頁subtitle" class="headerlink" title="the subtitle on homepage (主頁subtitle)"></a>the subtitle on homepage (主頁subtitle)</h1><p>subtitle:<br>  enable: true</p><h1 id="Typewriter-Effect-打字效果-1"><a href="#Typewriter-Effect-打字效果-1" class="headerlink" title="Typewriter Effect (打字效果)"></a>Typewriter Effect (打字效果)</h1><p>  effect: true</p><h1 id="loop-循環打字"><a href="#loop-循環打字" class="headerlink" title="loop (循環打字)"></a>loop (循環打字)</h1><p>  loop: true</p><h1 id="source-調用第三方服務"><a href="#source-調用第三方服務" class="headerlink" title="source 調用第三方服務"></a>source 調用第三方服務</h1><h1 id="source-false-關閉調用"><a href="#source-false-關閉調用" class="headerlink" title="source: false 關閉調用"></a>source: false 關閉調用</h1><h1 id="source-1-調用一言網的一句話（簡體）-https-hitokoto-cn"><a href="#source-1-調用一言網的一句話（簡體）-https-hitokoto-cn" class="headerlink" title="source: 1  調用一言網的一句話（簡體） https://hitokoto.cn/"></a>source: 1  調用一言網的一句話（簡體） <a href="https://hitokoto.cn/">https://hitokoto.cn/</a></h1><h1 id="source-2-調用一句網（簡體）-http-yijuzhan-com"><a href="#source-2-調用一句網（簡體）-http-yijuzhan-com" class="headerlink" title="source: 2  調用一句網（簡體） http://yijuzhan.com/"></a>source: 2  調用一句網（簡體） <a href="http://yijuzhan.com/">http://yijuzhan.com/</a></h1><h1 id="source-3-調用今日詩詞（簡體）-https-www-jinrishici-com"><a href="#source-3-調用今日詩詞（簡體）-https-www-jinrishici-com" class="headerlink" title="source: 3  調用今日詩詞（簡體） https://www.jinrishici.com/"></a>source: 3  調用今日詩詞（簡體） <a href="https://www.jinrishici.com/">https://www.jinrishici.com/</a></h1><h1 id="subtitle-會先顯示-source-再顯示-sub-的內容"><a href="#subtitle-會先顯示-source-再顯示-sub-的內容" class="headerlink" title="subtitle 會先顯示 source , 再顯示 sub 的內容"></a>subtitle 會先顯示 source , 再顯示 sub 的內容</h1><p>  source: false</p><h1 id="如果關閉打字效果，subtitle-只會顯示-sub-的第一行文字"><a href="#如果關閉打字效果，subtitle-只會顯示-sub-的第一行文字" class="headerlink" title="如果關閉打字效果，subtitle 只會顯示 sub 的第一行文字"></a>如果關閉打字效果，subtitle 只會顯示 sub 的第一行文字</h1><p>  sub:<br>    - “Welcome to Fomalhaut🥝のTiny Home!🤣🤣🤣”<br>    - “Hope you have a nice day!🍭🍭🍭”</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">预览效果见本站主页：[Fomalhaut🥝](https://www.fomal.cc)</span><br><span class="line"></span><br><span class="line">## 22. 页面加载动画 preloader</span><br><span class="line"></span><br><span class="line">当进入网页时，因为加载速度的问题，可能会导致 top_img 图片出现断层显示，或者网页加载不全而出现等待时间，开启 preloader 后，会显示加载动画，等页面加载完，加载动画会消失。</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="加载动画-Loading-Animation"><a href="#加载动画-Loading-Animation" class="headerlink" title="加载动画 Loading Animation"></a>加载动画 Loading Animation</h1><p>preloader: true</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 23. 字数统计</span><br><span class="line"></span><br><span class="line">注意必须要安装依赖才能设置为 `true`，否则会报错！</span><br><span class="line"></span><br><span class="line">1. 安装插件：在你的博客根目录，打开 cmd 命令窗口执行 `npm install hexo-wordcount --save`。</span><br><span class="line">2. 开启配置：修改主题配置文件`_config.butterfly.yml` 中的 `wordcount`。</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>wordcount:<br>  enable: true<br>  post_wordcount: true<br>  min2read: true<br>  total_wordcount: true</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 24. 图片大图查看模式</span><br><span class="line"></span><br><span class="line">只能开启一个。</span><br><span class="line">如果你并不想为某张图片添加大图查看模式，你可以使用 html 格式引用图片，并为图片添加 no-lightbox class 名，例如：`&lt;img src=&quot;xxxx.jpg&quot; class=&quot;no-lightbox&quot;&gt;`。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">修改主题配置文件`_config.butterfly.yml` 中 `fancybox` 属性</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="fancybox-http-fancyapps-com-fancybox-3"><a href="#fancybox-http-fancyapps-com-fancybox-3" class="headerlink" title="fancybox http://fancyapps.com/fancybox/3/"></a>fancybox <a href="http://fancyapps.com/fancybox/3/">http://fancyapps.com/fancybox/3/</a></h1><p>fancybox: true</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 25.Pjax</span><br><span class="line"></span><br><span class="line">当用户点击链接，通过 `ajax` 更新页面需要变化的部分，然后使用 HTML5 的 `pushState` 修改浏览器的 URL 地址。这样可以不用重复加载相同的资源`（css/js）`， 从而提升网页的加载速度。</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Pjax-Beta"><a href="#Pjax-Beta" class="headerlink" title="Pjax [Beta]"></a>Pjax [Beta]</h1><h1 id="It-may-contain-bugs-and-unstable-give-feedback-when-you-find-the-bugs"><a href="#It-may-contain-bugs-and-unstable-give-feedback-when-you-find-the-bugs" class="headerlink" title="It may contain bugs and unstable, give feedback when you find the bugs."></a>It may contain bugs and unstable, give feedback when you find the bugs.</h1><h1 id="https-github-com-MoOx-pjax"><a href="#https-github-com-MoOx-pjax" class="headerlink" title="https://github.com/MoOx/pjax"></a><a href="https://github.com/MoOx/pjax">https://github.com/MoOx/pjax</a></h1><p>pjax:<br>  enable: true</p><h1 id="对于一些第三方插件，有些并不支持-pjax-。"><a href="#对于一些第三方插件，有些并不支持-pjax-。" class="headerlink" title="对于一些第三方插件，有些并不支持 pjax 。"></a>对于一些第三方插件，有些并不支持 pjax 。</h1><h1 id="你可以把网页加入到-exclude-里，这个网页会被-pjax-排除在外。"><a href="#你可以把网页加入到-exclude-里，这个网页会被-pjax-排除在外。" class="headerlink" title="你可以把网页加入到 exclude 里，这个网页会被 pjax 排除在外。"></a>你可以把网页加入到 exclude 里，这个网页会被 pjax 排除在外。</h1><h1 id="点击该网页会重新加载网站。"><a href="#点击该网页会重新加载网站。" class="headerlink" title="点击该网页会重新加载网站。"></a>点击该网页会重新加载网站。</h1><p>  exclude:<br>    - &#x2F;music&#x2F;<br>    - &#x2F;no-pjax&#x2F;</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">注意：使用 pjax 后，一些自己 DIY 的 js 可能会无效，跳转页面时需要重新调用（例如朋友圈、说说等），具体请参考 [Pjax 文档](https://github.com/MoOx/pjax)。</span><br><span class="line"></span><br><span class="line">## 26.Inject</span><br><span class="line"></span><br><span class="line">如想添加额外的 js/css/meta 等等东西，可以在 Inject 里添加，head (`&lt;/body&gt;` 标签之前)， bottom (`&lt;/html&gt;` 标签之前)。</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Inject"><a href="#Inject" class="headerlink" title="Inject"></a>Inject</h1><h1 id="Insert-the-code-to-head-before-‘‘-tag-and-the-bottom-before-‘‘-tag"><a href="#Insert-the-code-to-head-before-‘‘-tag-and-the-bottom-before-‘‘-tag" class="headerlink" title="Insert the code to head (before ‘‘ tag) and the bottom (before ‘‘ tag)"></a>Insert the code to head (before ‘</head>‘ tag) and the bottom (before ‘</body>‘ tag)</h1><h1 id="插入代码到头部-之前-和-底部-之前"><a href="#插入代码到头部-之前-和-底部-之前" class="headerlink" title="插入代码到头部  之前 和 底部  之前"></a>插入代码到头部 </head> 之前 和 底部 </body> 之前</h1><p>inject:<br>  head:<br>    - <link rel="stylesheet" href="/xxx.css"><br>  bottom:<br>    - <script src="xxxx"></script></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 27. 本地搜索系统</span><br><span class="line"></span><br><span class="line">1. 安装依赖：前往博客根目录，打开 cmd 命令窗口执行 `npm install hexo-generator-search --save`。</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>   npm install hexo-generator-search –save<br>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">注入配置：修改站点配置文件`_config.yml`，添加如下代码：</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>search:<br>  path: search.xml<br>  field: post<br>  content: true</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">主题中开启搜索：在主题配置文件_config.butterfly.yml 中修改以下内容：</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>local_search:</p><ul><li>enable: false</li></ul><ul><li>enable: true<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">重新编译运行，即可看到效果：前往博客根目录，打开 cmd 命令窗口依次执行如下命令：</span><br><span class="line"></span><br></pre></td></tr></table></figure>hexo cl &amp;&amp; hexo generate<br>hexo s -p 8000</li></ul><pre><code>详情可参考 [hexo-generator-search](https://github.com/wzpan/hexo-generator-search)[![image-20221029174043726](https://s1.vika.cn/space/2022/10/29/df8853f2baf342a2ba28968b80826693)](https://s1.vika.cn/space/2022/10/29/df8853f2baf342a2ba28968b80826693)</code></pre>]]></content>
      
      
      <categories>
          
          <category> 搭建博客 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>java零碎刷题</title>
      <link href="/posts/a03a840d.html"/>
      <url>/posts/a03a840d.html</url>
      
        <content type="html"><![CDATA[<h1 id="一些java小知识"><a href="#一些java小知识" class="headerlink" title="一些java小知识"></a>一些java小知识</h1><h3 id="1-String-Join-方法-A-String-B-String"><a href="#1-String-Join-方法-A-String-B-String" class="headerlink" title="1.String.Join 方法 (A (String), B (String []))"></a>1.String.Join 方法 (A (String), B (String []))</h3><p>在指定 String 数组 B 的每个元素之间串联指定的分隔符 A，从而产生单个串联的字符串</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String [] tmpStr = &#123;abc, def, ghi&#125;;</span><br><span class="line">String jn = string.Join(“-“, tmpStr);// 此时输出为”abc-def-ghi”</span><br><span class="line">// 常见用法:字符串数组chs-&gt;字符串str</span><br><span class="line">String.join(&quot;&quot;,strings)//&#123;&quot;abcdefghi&quot;&#125;</span><br></pre></td></tr></table></figure><h3 id="2-split-根据匹配给定的正则表达式来拆分字符串"><a href="#2-split-根据匹配给定的正则表达式来拆分字符串" class="headerlink" title="2.split () 根据匹配给定的正则表达式来拆分字符串"></a>2.split () 根据匹配给定的正则表达式来拆分字符串</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str = &quot;Welcome-to-Runoob&quot;;</span><br><span class="line">for (String retval: str.split(&quot;-&quot;))&#123;</span><br><span class="line"> System.out.println(retval);</span><br><span class="line">&#125;  </span><br><span class="line">// 分隔符返回值 :Welcome  to  Runoob</span><br><span class="line">// 此方法常用来字符串-&gt;字符串数组(输入模式下的输入数组后的处理)</span><br></pre></td></tr></table></figure><h4 id="3-StringBuilder-的-delete-与-deleteCharAt"><a href="#3-StringBuilder-的-delete-与-deleteCharAt" class="headerlink" title="3.StringBuilder 的 delete () 与 deleteCharAt ()"></a>3.StringBuilder 的 delete () 与 deleteCharAt ()</h4><p>两个都是用来删除 StringBuilder 字符串指定索引处字符的方法</p><p>delete（int a,int b）有两个参数，删除索引从 [a,b) 的字符；</p><p>deleteCharAt（int a）只有一个参数，使用时删除索引为 a 的字符；</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer buff = new StringBuffer(&quot;0123456789&quot;);</span><br><span class="line">System.out.println(&quot;buff=&quot;+buff);</span><br><span class="line"></span><br><span class="line">//删除下标从3到5的字符</span><br><span class="line">buff.delete(3,5);</span><br><span class="line">System.out.println(&quot;deletionBack=&quot;+ buff);</span><br><span class="line"></span><br><span class="line">buff = new StringBuffer(&quot;0123456789&quot;);</span><br><span class="line">//删除下标为8字符</span><br><span class="line">buff.deleteCharAt(8);</span><br><span class="line">System.out.println(&quot;delectCharAtBack=&quot;+buff);</span><br><span class="line">// 输出如下:</span><br><span class="line">// buff=0123456789</span><br><span class="line">// deletionBack=01256789</span><br><span class="line">// delectCharAtBack=012345679</span><br></pre></td></tr></table></figure><h3 id="4-List-与数组互相转换"><a href="#4-List-与数组互相转换" class="headerlink" title="4.List 与数组互相转换"></a>4.List 与数组互相转换</h3><p>具体参考 <a href="https://blog.csdn.net/Gc_680/article/details/122568085">Java：List 与数组相互转换</a></p><h4 id="5-字符-gt-字符串"><a href="#5-字符-gt-字符串" class="headerlink" title="5. 字符 -&gt; 字符串"></a>5. 字符 -&gt; 字符串</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String.valueOf(str.charAt(i))</span><br></pre></td></tr></table></figure><h3 id="6-StringBuilder-的-append-方法可以接受很多种类型"><a href="#6-StringBuilder-的-append-方法可以接受很多种类型" class="headerlink" title="6.StringBuilder 的 append () 方法可以接受很多种类型"></a>6.<strong>StringBuilder 的 append () 方法可以接受很多种类型</strong></h3><p><a href="https://s1.vika.cn/space/2022/09/30/10cafb97b11d4b10a6b15948a05d0ee4"><img src="https://s1.vika.cn/space/2022/09/30/10cafb97b11d4b10a6b15948a05d0ee4" alt="img"></a></p><h3 id="7-StringBuilder-的-setCharAt-方法"><a href="#7-StringBuilder-的-setCharAt-方法" class="headerlink" title="7.StringBuilder 的 setCharAt () 方法"></a>7.StringBuilder 的 setCharAt () 方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//第一个参数为索引,第二个参数为该索引处设置的值</span><br><span class="line">public void setCharAt(int index, char ch)</span><br><span class="line">sb.setCharAt(end, temp);</span><br></pre></td></tr></table></figure><h3 id="8-重载的-remove-方法"><a href="#8-重载的-remove-方法" class="headerlink" title="8. 重载的 remove () 方法"></a>8. 重载的 remove () 方法</h3><p>ArrayList 有两个 remove () 重载法，分别是:remove (int index) remove (Object o)</p><p>若参数输入为 1，到底是删除对象 1 还是删除索引为 1 的元素呢？</p><p>最后发现：<strong>remove (1) 是删除索引为 1 的元素；remove (new Integer (1)) 则删除元素 1</strong></p><p>因为 1 默认是基本类型 int</p><h3 id="9-数组转-List-集合方法：-注意包装类型"><a href="#9-数组转-List-集合方法：-注意包装类型" class="headerlink" title="9. 数组转 List 集合方法：(注意包装类型)"></a>9. 数组转 List 集合方法：(注意包装类型)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">方法1:</span><br><span class="line">Integer[] nums = new Integer[5]; // 这里不能用int</span><br><span class="line">Arrays.fill(nums,1);</span><br><span class="line">List&lt;Integer&gt; list = Arrays.asList(nums);</span><br><span class="line"></span><br><span class="line">方法2:</span><br><span class="line">Integer[] nums = new Integer[5];</span><br><span class="line">List&lt;Integer&gt; list = new ArrayList&lt;&gt;();</span><br><span class="line">Collections.addAll(list, nums);</span><br></pre></td></tr></table></figure><h3 id="10-Java-中的-Math-atan2-double-x-double-y-方法"><a href="#10-Java-中的-Math-atan2-double-x-double-y-方法" class="headerlink" title="10.Java 中的 Math.atan2 (double x, double y) 方法"></a>10.Java 中的 Math.atan2 (double x, double y) 方法</h3><p>将指定的直角坐标 (x, y) 转换为极坐标 (r, θ)，并返回弧度 θ。</p><p>该方法通过计算 y&#x2F;x 的反正切值来计算弧度 θ，值域为 (-π, π]。</p><p><strong>atan2 与 atan 区别：</strong></p><p>参数个数不同：atan (double a)，而 atan2 (double y, double x)。</p><p>参数含义不同：atan 中的参数 a 一般传 y&#x2F;x，也就是斜率 k，而 atan2 中的两个参数就是实际中的 x 坐标和 y 坐标。</p><p>值域不同：atan 值域为 (-π&#x2F;2,π&#x2F;2)，而 atan2 的值域为 [-π,π]。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">    double x = 2, y = 2;</span><br><span class="line">    System.out.println(Math.atan2(y, x)); // 0.7853981633974483</span><br><span class="line">    System.out.println(Math.atan(y / x)); // 0.7853981633974483</span><br><span class="line">    double x2 = 4, y2 = 3;</span><br><span class="line">    double x1 = 2, y1 = 1;</span><br><span class="line">    System.out.println(Math.atan2(y2 - y1, x2 - x1)); // 0.7853981633974483(45°)</span><br><span class="line">    System.out.println(Math.atan((y2 - y1) / (x2 - x1))); // 0.7853981633974483</span><br><span class="line">    // 下面有区别</span><br><span class="line">    System.out.println(Math.atan2(y1 - y2, x1 - x2)); // -2.356194490192345(-135°)</span><br><span class="line">    System.out.println(Math.atan((y1 - y2) / (x1 - x2))); // 0.7853981633974483</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="11-TreeSet-返回最小元素与最大元素的-API"><a href="#11-TreeSet-返回最小元素与最大元素的-API" class="headerlink" title="11.TreeSet 返回最小元素与最大元素的 API"></a>11.TreeSet 返回最小元素与最大元素的 API</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">TreeSet&lt;Integer&gt; set = new TreeSet&lt;&gt;(排序规则));</span><br><span class="line">int first = set.first();// 排序规则的首个元素</span><br><span class="line">int last = set.last();// 排序规则的最后一个元素</span><br><span class="line">set.remove(o);// 移除对应元素</span><br></pre></td></tr></table></figure><h3 id="12-关于-TreeSet-自定义排序规则后修改规则中元素的问题"><a href="#12-关于-TreeSet-自定义排序规则后修改规则中元素的问题" class="headerlink" title="12. 关于 TreeSet 自定义排序规则后修改规则中元素的问题"></a>12. 关于 TreeSet 自定义排序规则后修改规则中元素的问题</h3><p><strong>与规则相关并有扰乱顺序的风险</strong>时，必须确保这个元素的排序是没有被影响过的，否则在 remove () 时，会出现定位失败，有可能删除失败，或者删除出错！</p><p>因此，当我们用 TreeSet 作为一个自动排序容器时，更新元素的位置，必须分三个步骤：</p><p><strong>1、remove 老的元素</strong></p><p><strong>2、修改</strong></p><p><strong>3、插入修改后的元素</strong></p><p>PS:set.add (T t) 如果存在了，将不会进行任何操作并返回 false</p><p><a href="https://leetcode.cn/problems/design-a-food-rating-system/"><strong>6126. 设计食物评分系统</strong></a></p><p><strong>参考：</strong><a href="https://www.cnblogs.com/chzcb/p/3984681.html"><strong>关于 TreeSet 的排序对于删除操作的影响</strong></a></p><h3 id="13-List-数组的正确写法"><a href="#13-List-数组的正确写法" class="headerlink" title="13.List 数组的正确写法"></a>13.List 数组的正确写法</h3><p>创建时候指定类型，然后统一初始化一次，后面直接 add 即可</p><p>这里也用到 List 存图的方式，比较适合稀疏图，因为 List 容量可变</p><p>通常来说邻接矩阵适合稠密图，稀疏图可以采用 HashMap（离散化程度大）或者 List 数组 (离散化程度小 &#x2F; 节点索引为 [1,n] 情形)</p><p><a href="https://leetcode.cn/problems/course-schedule/"><strong>207. 课程表</strong></a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">public boolean canFinish(int n, int[][] pres) &#123;</span><br><span class="line">    /*</span><br><span class="line">    拓扑排序:</span><br><span class="line">    只要课程没有循环依赖(成环)，就可以顺利按照拓扑排序的规则完成所有课程</span><br><span class="line">    思路就是优先消除入度为0的课程，因为这个课程可以直接学不用依赖别的课程</span><br><span class="line">    消除到最后看看还有没有没哟被消去的课程即可</span><br><span class="line">     */</span><br><span class="line">    // 存储课程之间的依赖关系，比如0依赖1，list[0]中就有1</span><br><span class="line">    List&lt;Integer&gt;[] list = new ArrayList[n];</span><br><span class="line">    for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        list[i] = new ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    for (int[] p : pres) &#123;</span><br><span class="line">        int next = p[0], pre = p[1];</span><br><span class="line">        list[pre].add(next);</span><br><span class="line">    &#125;</span><br><span class="line">    int[] inDegree = new int[n];    // 入度数组</span><br><span class="line">    for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        for (int num : list[i]) &#123;</span><br><span class="line">            inDegree[num]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    int cnt = 0;    // 统计入度为0的节点</span><br><span class="line">    Queue&lt;Integer&gt; que = new LinkedList&lt;&gt;();</span><br><span class="line">    for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        if (inDegree[i] == 0) &#123;</span><br><span class="line">            que.add(i);</span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    while (!que.isEmpty()) &#123;</span><br><span class="line">        int poll = que.poll();</span><br><span class="line">        for (int num : list[poll]) &#123;</span><br><span class="line">            if (--inDegree[num] == 0) &#123;</span><br><span class="line">                que.add(num);</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return cnt == n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="14-关于-static-关键字在力扣提交的速度优化"><a href="#14-关于-static-关键字在力扣提交的速度优化" class="headerlink" title="14. 关于 static 关键字在力扣提交的速度优化"></a>14. 关于 static 关键字在力扣提交的速度优化</h3><p><a href="https://leetcode.cn/problems/guess-number-higher-or-lower-ii/"><strong>375. 猜数字大小 II</strong></a></p><p>优化前代码如下 <strong>(67ms&#x2F;40.2MB)</strong> ：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    int[][] memo;   // memo[i][j]记录猜中区间[i,j]之间所需的最少钱数</span><br><span class="line">    int INF = 0x3f3f3f3f;</span><br><span class="line"></span><br><span class="line">    public int getMoneyAmount(int n) &#123;</span><br><span class="line">        memo = new int[n + 1][n + 1];</span><br><span class="line">        return dfs(1, n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private int dfs(int i, int j) &#123;</span><br><span class="line">        // base case</span><br><span class="line">        if (j - i &lt;= 0) return 0;</span><br><span class="line">        // memo中存在</span><br><span class="line">        if (memo[i][j] != 0) return memo[i][j];</span><br><span class="line">        int min = INF;   // 最小值</span><br><span class="line">        for (int k = i; k &lt;= j; k++) &#123;</span><br><span class="line">            // 维护合法分割点的最小钱数</span><br><span class="line">            // 当前分割点的钱数=分割点k猜错的开销+左右区间开销大的一边(保证任意数字都可通过该最大开销猜中)</span><br><span class="line">            int cur = k + Math.max(dfs(i, k - 1), dfs(k + 1, j));</span><br><span class="line">            min = Math.min(min, cur);</span><br><span class="line">        &#125;</span><br><span class="line">        memo[i][j] = min;   // 记录猜中当前区间的最小钱值</span><br><span class="line">        return min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>static 优化后 <strong>(8ms&#x2F;38.1MB)</strong> ：</p><p>注意 static 的优化要在成员里面加上 static 并且有相应的初始化器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">static int[][] memo = new int[201][201];</span><br><span class="line">static int INF = 0x3f3f3f3f;</span><br><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    static int[][] memo = new int[201][201];   // memo[i][j]记录猜中区间[i,j]之间所需的最少钱数</span><br><span class="line">    static int INF = 0x3f3f3f3f;</span><br><span class="line"></span><br><span class="line">    public int getMoneyAmount(int n) &#123;</span><br><span class="line">        return dfs(1, n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private int dfs(int i, int j) &#123;</span><br><span class="line">        // base case</span><br><span class="line">        if (j - i &lt;= 0) return 0;</span><br><span class="line">        // memo中存在</span><br><span class="line">        if (memo[i][j] != 0) return memo[i][j];</span><br><span class="line">        int min = INF;   // 最小值</span><br><span class="line">        for (int k = i; k &lt;= j; k++) &#123;</span><br><span class="line">            // 维护合法分割点的最小钱数</span><br><span class="line">            // 当前分割点的钱数=分割点k猜错的开销+左右区间开销大的一边(保证任意数字都可通过该最大开销猜中)</span><br><span class="line">            int cur = k + Math.max(dfs(i, k - 1), dfs(k + 1, j));</span><br><span class="line">            min = Math.min(min, cur);</span><br><span class="line">        &#125;</span><br><span class="line">        memo[i][j] = min;   // 记录猜中当前区间的最小钱值</span><br><span class="line">        return min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>从 67ms 直接优化到 8ms 优化效果超级理想</p><p><strong>注意：有部分题型不能在成员中初始化 static 变量否则会出错！如下：</strong></p><p><a href="https://leetcode.cn/problems/stone-game/"><strong>877. 石子游戏</strong></a></p><p><a href="https://leetcode.cn/problems/strange-printer/"><strong>664. 奇怪的打印机</strong></a></p><h3 id="15-维护两个集合（数组）中前两个最大值"><a href="#15-维护两个集合（数组）中前两个最大值" class="headerlink" title="15. 维护两个集合（数组）中前两个最大值"></a>15. 维护两个集合（数组）中前两个最大值</h3><p>有时候我们不仅要求最大值，有可能还要实时维护次大值，次大值可能会用到</p><p>如何高效地维护最大值与次大值呢？最高效的方法就是利用两个变量 max1（最大值）与 max2（次大值）进行滚动维护</p><p>当遇到下一个数字 nums [i]&gt;max1 大，此时 max2&#x3D;max1；max1&#x3D;nums [i]</p><p>也就是说原来的 max1 取代了原来的 max2，而 nums [i] 取代原来 max1 位置（卷起来了）</p><p>而 max1&gt;&#x3D;nums [i]&gt;max2 时，我们令 nums [i] 取代原来 max2 位置，原来的 max2 就被取代了</p><p>当 nums [i]&#x3D;&#x3D;max2 可以维持原状，当 nums [i]</p><p><strong>PS：</strong> 当然，如果我们不熟悉的话可以用优先队列去维护，甚至维护前 k 大元素都可以</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int minimumOperations(int[] nums) &#123;</span><br><span class="line">        /*</span><br><span class="line">        考虑两种间隔的前两个最大值+分类讨论</span><br><span class="line">        要想最少操作次数，就要充分利用原理有出现的数字</span><br><span class="line">        记偶数索引的最多出现的数字为a1，次多出现的数字为a2</span><br><span class="line">        记奇数索引的最多出现的数字为b1，次多出现的数字为b2</span><br><span class="line">        1.当a1!=b1 这是最理想的结果，直接将其他数字改成a1与b1，总的操作次数为n-(m1[a1]+m2[b1])</span><br><span class="line">        2.当a1==b1 此时就有点麻烦了，不能同时将其他数字变为a1与b1因为会产生冲突</span><br><span class="line">            此时我们可以有两种选择:选a1与b2 或 a2与b1 (a2与b2数目不多于前两者可以忽略)</span><br><span class="line">            取数目总和大的，最后结果为:n-max(m1[a1]+m2[b2],m1[a2]+m2[b1])</span><br><span class="line">        重点就是如何维护两个最大值了</span><br><span class="line">         */</span><br><span class="line">        int n = nums.length;</span><br><span class="line">        int[] m1 = new int[100010], m2 = new int[100010];</span><br><span class="line">        int a1 = 0, a2 = 0, b1 = 0, b2 = 0;</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            if (i % 2 == 0) &#123;</span><br><span class="line">                // 偶数索引</span><br><span class="line">                m1[nums[i]]++;</span><br><span class="line">                int cur = m1[nums[i]];  // cur为当前数字nums[i]出现的次数</span><br><span class="line">                if (a1 == 0 || cur &gt; m1[a1]) &#123;  // 最大出现次数的数字还没出现||当前数字出现次数已经大于a1出现次数</span><br><span class="line">                    // nums[i]取代a1位置，之前的a1退居a2位置</span><br><span class="line">                    a2 = a1;</span><br><span class="line">                    a1 = nums[i];</span><br><span class="line">                &#125; else if (nums[i] != a1 &amp;&amp; (a2 == 0 || cur &gt; m1[a2])) &#123;</span><br><span class="line">                    // nums[i]!=a1说明这个nums[i]不是最大值的，此时若次大值处还没赋值或者nums[i]出现次数比原先的a2多</span><br><span class="line">                    // 那么nums[i]可以取代原来a2的位置</span><br><span class="line">                    a2 = nums[i];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                // 奇数索引</span><br><span class="line">                m2[nums[i]]++;</span><br><span class="line">                int cur = m2[nums[i]];</span><br><span class="line">                if (b1 == 0 || cur &gt; m2[b1]) &#123;</span><br><span class="line">                    b2 = b1;</span><br><span class="line">                    b1 = nums[i];</span><br><span class="line">                &#125; else if (nums[i] != b1 &amp;&amp; (b2 == 0 || cur &gt; m2[b2])) &#123;</span><br><span class="line">                    b2 = nums[i];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (a1 != b1) return n - (m1[a1] + m2[b1]);</span><br><span class="line">        return n - Math.max(m1[a1] + m2[b2], m1[a2] + m2[b1]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="16-最大公约数-gcd-与最小公倍数"><a href="#16-最大公约数-gcd-与最小公倍数" class="headerlink" title="16. 最大公约数 gcd 与最小公倍数"></a>16. 最大公约数 gcd 与最小公倍数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public class BiggestFactor &#123;</span><br><span class="line">    @Test</span><br><span class="line">    public void test() &#123;</span><br><span class="line">        int a = 8, b = 5;</span><br><span class="line">        System.out.println(a + &quot;与&quot; + b + &quot;最大公约数为:&quot; + maxCommonFactor(a, b));</span><br><span class="line">        System.out.println(a + &quot;与&quot; + b + &quot;最小公倍数为:&quot; + minCommonMultiple(a, b));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 最小公倍数:结合最大公约数</span><br><span class="line">    private int minCommonMultiple(int a, int b) &#123;</span><br><span class="line">        return a * b / maxCommonFactor(a, b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 最大公约数:辗转相除法</span><br><span class="line">    private int maxCommonFactor(int a, int b) &#123;</span><br><span class="line">        while (b != 0) &#123;</span><br><span class="line">            int r = a % b;</span><br><span class="line">            a = b;</span><br><span class="line">            b = r;</span><br><span class="line">        &#125;</span><br><span class="line">        return a;</span><br><span class="line">        // return b &gt; 0 ? gcd(b, a % b) : a; (一步到位写法)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>拓展：求一个数组的最大公约数 -&gt; 滚动因子 O (N)</strong></p><p><a href="https://leetcode.cn/problems/minimum-deletions-to-make-array-divisible/"><strong>6122. 使数组可以被整除的最少删除次数</strong></a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">public int minOperations(int[] nums, int[] numsDivide) &#123;</span><br><span class="line">    /*</span><br><span class="line">    求最大公因数问题：</span><br><span class="line">    原问题等价于求numsDivide的最大公因数maxFac，只要在nums中找到一个可以整除maxFac的数字，那么该数字必定可以被numsDivide所有数整除</span><br><span class="line">    将nums排序后找出最小的可以满足上述条件的数字，那么该数字前面的数字就是要删除的数字数目</span><br><span class="line">    关键是怎样在接近O(N)时间复杂度内求解数组的最大公因数?</span><br><span class="line">    答案是利用前面部分的maxFac与numsDivide[i]求最大公因数，求出来的就表示满足numsDivide[0,i-1]+numsDivide[i]=numsDivide[0,i]的最大公因数</span><br><span class="line">    当遍历整个数组就是整个数组的最大公因数</span><br><span class="line">     */</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    int m = numsDivide.length, n = nums.length;</span><br><span class="line">    // 求数组的最大公因数</span><br><span class="line">    int maxFac = numsDivide[0];</span><br><span class="line">    for (int i = 1; i &lt; m; i++) &#123;</span><br><span class="line">        maxFac = gcd(maxFac, numsDivide[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        if (maxFac % nums[i] == 0) return i;</span><br><span class="line">    &#125;</span><br><span class="line">    return -1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 求a与b的最大公约数</span><br><span class="line">private int gcd(int a, int b) &#123;</span><br><span class="line">    return b &gt; 0 ? gcd(b, a % b) : a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>同理可以求得整个数组的最小公倍数</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">private int minCommonMultiple(int[] nums) &#123;</span><br><span class="line">    int res = nums[0];</span><br><span class="line">    for (int i = 1; i &lt; nums.lebnght; i++) &#123;</span><br><span class="line">        res = maxCommonFactor(res, nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    // 最小公倍数:结合最大公约数</span><br><span class="line">    private int minCommonMultiple(int a, int b) &#123;</span><br><span class="line">        return a * b / maxCommonFactor(a, b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 最大公约数:辗转相除法</span><br><span class="line">    private int maxCommonFactor(int a, int b) &#123;</span><br><span class="line">        while (b != 0) &#123;</span><br><span class="line">            int r = a % b;</span><br><span class="line">            a = b;</span><br><span class="line">            b = r;</span><br><span class="line">        &#125;</span><br><span class="line">        return a;</span><br><span class="line">        // return b &gt; 0 ? gcd(b, a % b) : a; (一步到位写法)</span><br><span class="line">    &#125;</span><br><span class="line">    return res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="17-螺旋矩阵模拟转向-trick"><a href="#17-螺旋矩阵模拟转向-trick" class="headerlink" title="17. 螺旋矩阵模拟转向 trick"></a>17. 螺旋矩阵模拟转向 trick</h3><p><a href="https://leetcode.cn/problems/spiral-matrix-iv/">6111. 螺旋矩阵 IV</a></p><p>周赛中发现了灵神的这个模拟转向的小 trick 可以应用至任意的螺旋矩阵题目</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;    public int[][] spiralMatrix(int m, int n, ListNode head) &#123;        /*        一个模拟的万能转向trick(参考灵神)         */        int[][] res = new int[m][n];        for (int i = 0; i &lt; m; i++) &#123;            Arrays.fill(res[i], -1);        &#125;        ListNode cur = head;        // 上右下左四个进给方向        int[][] dirs = &#123;&#123;0, 1&#125;, &#123;1, 0&#125;, &#123;0, -1&#125;, &#123;-1, 0&#125;&#125;;        // idx为进给方向,x与y是遍历指针        int idx = 0, x = 0, y = -1; // 为了进给第一步向右走了之后才赋值,初始化(x,y)=(0.-1)        // 链表还没走完就继续循环        while (cur != null) &#123;            int newX = x + dirs[idx][0], newY = y + dirs[idx][1];            // 越界或者碰到已经覆盖过的-&gt;转向            if (newX &lt; 0 || newX &gt;= m || newY &lt; 0 || newY &gt;= n || res[newX][newY] != -1) idx = (idx + 1) % 4;            x += dirs[idx][0];            y += dirs[idx][1];            res[x][y] = cur.val;            cur = cur.next;        &#125;        return res;    &#125;&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo博客搭建基础教程（二）</title>
      <link href="/posts/1e7ff688.html"/>
      <url>/posts/1e7ff688.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h2><ol><li>博客搭建过程遇到任何问题，优先在本页面搜索，检查是否已经有该配置教程。</li><li>遇到问题可以优先在文章评论区留言，注意留言时请填写正确的邮箱以确保能收到回复。</li><li>本站和本文章来自<a href="https://www.fomal.cc/%E5%8F%82%E8%80%83%E5%86%99%E6%88%90">https://www.fomal.cc/参考写成</a>   感谢大佬</li></ol><h2 id="2-Vercel-部署与自定义域名"><a href="#2-Vercel-部署与自定义域名" class="headerlink" title="2.Vercel 部署与自定义域名"></a>2.Vercel 部署与自定义域名</h2><h3 id="2-1-Vercel-部署"><a href="#2-1-Vercel-部署" class="headerlink" title="2.1 Vercel 部署"></a>2.1 Vercel 部署</h3><p>Vercel 简介：<a href="https://vercel.com/dashboard">vercel</a> 是一个代码托管平台，它能够托管你的静态 html 界面，甚至能够托管你的 node.js 与 Python 服务端脚本，是 <strong>不想买服务器的懒人的福音</strong>！</p><p><strong>使用 Vercel 部署 Hexo 项目步骤：</strong></p><ol><li>首先需要一个 Vercel 账号，这里<strong>推荐用 GitHub 账户关联，这样你就可以在 vercel 中直接托管你的 GitHub 库中的项目了</strong>，实现开发部署一步到位（网络不流畅可以考虑挂梯子）。<br><a href="https://s1.vika.cn/space/2022/10/27/5ecde0efb97e4efe8c872c07f2b29301"><img src="https://s1.vika.cn/space/2022/10/27/5ecde0efb97e4efe8c872c07f2b29301" alt="image-20221027223132537"></a></li><li>当你用你的 Github 账户关联并绑定手机号登录之后，点击右上角的 <code>Add New Project</code> 创建新的项目，之后导入选项那里选择 <code>Continue with Github</code>，这时候应该能看到你 Github 账号的仓库，选择你刚刚部署成功的存储静态博客的仓库 <code>&lt;username&gt;.github.io</code> 右边的 <code>Import</code> 选项，表示你要导入该仓库。<br><a href="https://s1.vika.cn/space/2022/10/27/13d509ad17d44a5ebf60d6bd7cde05f4"><img src="https://s1.vika.cn/space/2022/10/27/13d509ad17d44a5ebf60d6bd7cde05f4" alt="image-20221027223231192"></a><br><a href="https://s1.vika.cn/space/2022/10/27/23780c3fc63546559ff02d303f97e37d"><img src="https://s1.vika.cn/space/2022/10/27/23780c3fc63546559ff02d303f97e37d" alt="image-20221027223420282"></a><br><a href="https://s1.vika.cn/space/2022/10/27/7e1c080e435648a1a27a0f21d19e979d"><img src="https://s1.vika.cn/space/2022/10/27/7e1c080e435648a1a27a0f21d19e979d" alt="image-20221027223742660"></a></li><li>起一个只能有字母、数字或者或者连字符的项目名称，然后其他默认，点击 <code>Deploy</code>，等待一分钟即可部署成功，部署成功后电极 <code>Continue to Dashboard</code> 跳转到控制面板，下图所示就是控制面板，看到就代表成功部署到了，但是我们现在还不能访问他给出的域，因为 GFW 最近把 Vercel 屏蔽了。</li></ol><p> <a href="https://s1.vika.cn/space/2022/10/27/09b5ce9b3ac64d2dad2acdf3cca92b5f"><img src="https://s1.vika.cn/space/2022/10/27/09b5ce9b3ac64d2dad2acdf3cca92b5f" alt="image-20221027224225808"></a></p><p><a href="https://s1.vika.cn/space/2022/10/27/43c6816280914f6ebbab1d6ec345c8f9"><img src="https://s1.vika.cn/space/2022/10/27/43c6816280914f6ebbab1d6ec345c8f9" alt="image-20221027224405464"></a></p><h3 id="2-2-绑定自定义域名"><a href="#2-2-绑定自定义域名" class="headerlink" title="2.2 绑定自定义域名"></a>2.2 绑定自定义域名</h3><p>现在你的个人网站的地址是 <code>username.github.io</code> 以及在 Vercel 上有一个 <code>blog-demo-chi.vercel.app</code>。如果觉得不够定制化，可以购买一个专属域名。</p><p>这一步不是必要的，如果目前还不想买域名可以先跳过。</p><p>腾讯云、阿里云等都是不错的域名代理商，建议选用 <code>com</code>，<code>cn</code> 或 <code>cc</code> 这类常用好记的顶域，对 SEO  比较友好，自定义部分的长度尽可能短别人才会更容易地记住你的网站，要知道域名就是你网站的卡片。此处以阿里云域名为例进行说明，购买域名后，实名认证进入阿里云控制台，点云解析进去，找到你刚买的域名，点进去添加 Vercel 所需的解析记录，注意博主这里是解析二级域名只需要解析一条即可。但是如果是一级域名，需要解析两个，一个是 <code>@</code>，另外一个是 <code>www</code>，Vercel 建议是 <code>@</code>的解析重定向至 <code>www</code>。</p><p>以我的域名：<code>fomal.cc</code> 为例进行说明</p><table><thead><tr><th align="center">主机记录</th><th align="center">解释</th></tr></thead><tbody><tr><td align="center">www</td><td align="center">解析后的域名为 <a href="http://www.fomal.cc/">www.fomal.cc</a></td></tr><tr><td align="center">@</td><td align="center">直接解析主域名 <a href="http://fomal.cc/">fomal.cc</a></td></tr><tr><td align="center">*</td><td align="center">泛解析，匹配其他所有域名 *.fomal.cc</td></tr><tr><td align="center">mail</td><td align="center">将域名解析为 <a href="http://mail.fomal.cc/">mail.fomal.cc</a>，通常用于解析邮箱服务器</td></tr><tr><td align="center">二级</td><td align="center">如 <a href="http://abc.fomal.cc/">abc.fomal.cc</a>，填写 abc</td></tr><tr><td align="center">手机网站</td><td align="center">如 <a href="http://m.fomal.cc/">m.fomal.cc</a>，填写 m</td></tr><tr><td align="center">显性 URL</td><td align="center">不支持泛解析（泛解析：将所有子域名解析到同一地址）</td></tr></tbody></table><p>将域名指向云服务器，请选择「A」； 将域名指向另一个域名，请选择「CNAME」； 建立邮箱请选择「MX」，根据邮箱服务商提供的 MX 记录填写。</p><table><thead><tr><th align="center">记录类型</th><th align="center">解释</th></tr></thead><tbody><tr><td align="center">A</td><td align="center">用来指定域名的 IPv4 地址（如 8.8.8.8），如果需要将域名指向一个 IP 地址，就需要添加 A 记录。</td></tr><tr><td align="center">CNAME</td><td align="center">如果需要将域名指向另一个域名，再由另一个域名提供 IP 地址，就需要添加 CNAME 记录。</td></tr><tr><td align="center">MX</td><td align="center">如果需要设置邮箱，让邮箱能收到邮件，就需要添加 MX 记录。</td></tr><tr><td align="center">TXT</td><td align="center">在这里可以填写任何东西，长度限制 255。绝大多数的 TXT 记录是用来做 SPF 记录（反垃圾邮件）</td></tr><tr><td align="center">NS</td><td align="center">域名服务器记录，如果需要将子域名交给其他 DNS 服务商解析，就需要添加 NS 记录。</td></tr><tr><td align="center">AAAA</td><td align="center">用来指定主机名（或域名）对应的 IPv6 地址（例如：ff06:0:0:0:0:0:0:c3）记录。</td></tr><tr><td align="center">SRV</td><td align="center">记录了哪台计算机提供了哪个服务。格式为：服务的名字、点、协议的类型，例如：_xmpp-server_tcp。</td></tr><tr><td align="center">显性 URL</td><td align="center">从一个地址 301 重定向到另一个地址的时候，就需要添加显性 URL 记录（注：DNSPod 目前只支持 301 重定向）。</td></tr><tr><td align="center">隐性 URL</td><td align="center">类似于显性 URL，区别在于隐性 URL 不会改变地址栏的域名。</td></tr></tbody></table><p><strong>添加自定义域名的步骤：</strong></p><ol><li>点击 Vercel 控制面板右上角的 <code>View Domains</code> 查看当前的域，我们可以看到仅有 Vercel 给你预分配的一个域名，此时我们输入刚刚购买的域名，我这里以二级域名 <code>demo.fomal.cc</code> 为例进行说明，添加后他会提示你添加一条 DNS 解析记录。<br><a href="https://s1.vika.cn/space/2022/10/27/f0890ccf90d04ac7985a40558b8f0aad"><img src="https://s1.vika.cn/space/2022/10/27/f0890ccf90d04ac7985a40558b8f0aad" alt="image-20221027224803563"></a><br><a href="https://s1.vika.cn/space/2022/10/27/3a1e809ca99a452fae6229d9b69134ad"><img src="https://s1.vika.cn/space/2022/10/27/3a1e809ca99a452fae6229d9b69134ad" alt="image-20221027224830609"></a><br><a href="https://s1.vika.cn/space/2022/10/27/1bd6bdd5cc924661a0bf779997240e86"><img src="https://s1.vika.cn/space/2022/10/27/1bd6bdd5cc924661a0bf779997240e86" alt="image-20221027225338126"></a><br><strong>PS</strong>：如果你是新买的域名，直接输入你新买的一级域名即可，例如 <code>demo123.com</code>，他会推荐你将 <code>demo123.com</code> 重定向至 <code>www.demo123.com</code>，点 <code>ADD</code> 即可，然后他会提示你添加两条解析记录，一个是 <code>@</code>开头的和 <code>CNAME</code> 开头的，添加记录的方法和二级域名一致。<br><a href="https://s1.vika.cn/space/2022/10/27/66c6d6f8fac84481b788228c4222864d"><img src="https://s1.vika.cn/space/2022/10/27/66c6d6f8fac84481b788228c4222864d" alt="image-20221027225758503"></a><br><a href="https://s1.vika.cn/space/2022/10/27/d6dd5ec65e93439482a7ddd5833ebd9d"><img src="https://s1.vika.cn/space/2022/10/27/d6dd5ec65e93439482a7ddd5833ebd9d" alt="image-20221027225808449"></a></li><li>在阿里云域名解析记录里面添加如下记录，其中记录类型对应 <code>Type</code>，主机记录对应 <code>Name</code>，记录值对应 <code>Value</code>，其他的设置默认即可。<br><a href="https://s1.vika.cn/space/2022/10/27/83c253f0710f44c1b80bc662e4a97636"><img src="https://s1.vika.cn/space/2022/10/27/83c253f0710f44c1b80bc662e4a97636" alt="image-20221027230049667"></a></li><li>回到 Vercel 刚刚查看域名的地方，如果操作没问题，应该会显示域名配置成功的提示，此时就可以通过自定义域名来访问我们搭建的网站了。<br><a href="https://s1.vika.cn/space/2022/10/27/9604de65a5524ba88d7e43f9412229d3"><img src="https://s1.vika.cn/space/2022/10/27/9604de65a5524ba88d7e43f9412229d3" alt="image-20221027230357362"></a><br><a href="https://s1.vika.cn/space/2022/10/27/244bc979f30149778b9e1ffc7038ecd0"><img src="https://s1.vika.cn/space/2022/10/27/244bc979f30149778b9e1ffc7038ecd0" alt="image-20221027230421929"></a></li><li>当你有了新的域名之后，需要 <code>[BlogRoot]\_config.yml</code> 文件中的 <code>url</code> 配置项为自己的新域名，这样博客的文章链接才会正确生成。</li></ol><p><a href="https://s1.vika.cn/space/2022/10/28/fa95d5aef2ac45deb4a02400056047e1"><img src="https://s1.vika.cn/space/2022/10/28/fa95d5aef2ac45deb4a02400056047e1" alt="image-20221028113042788"></a></p><h2 id="3-安装主题"><a href="#3-安装主题" class="headerlink" title="3. 安装主题"></a>3. 安装主题</h2><p>本教程用的 🦋 hexo-theme-butterfly 主题 v4.5.0 最新版，请放心食用。</p><p>本教程用的是 npm 方式安装的 <code>hexo-theme-butterfly</code>，后续魔改时更改的文件都是【C:&#x2F;Hexo-Blog&#x2F;blog-demo&#x2F;node_modules&#x2F;hexo-theme-butterfly】文件夹中的文件。如果你是 <code>git clone</code> 克隆方式安装的主题，请在【C:&#x2F;Hexo-Blog&#x2F;blog-demo&#x2F;themes&#x2F;butterfly】文件夹下修改对应的文件。</p><p>注意：此方法只支持 Hexo 5.0.0 以上版本！</p><p>在你的博客根目录（我这里路径为【C:&#x2F;Hexo-Blog&#x2F;blog-demo】）打开 <code>Git BASH</code> 命令窗口执行 <code>npm i hexo-theme-butterfly</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-theme-butterfly</span><br></pre></td></tr></table></figure><p>安装成功后可在【C:&#x2F;Hexo-Blog&#x2F;blog-demo&#x2F;node_modules】文件夹下找到 hexo-theme-butterfly 文件夹</p><p>升级方法：在博客根目录下，运行 <code>npm update hexo-theme-butterfly</code>。<br>升级前请将 <code>hexo-theme-butterfly</code> 文件夹备份，npm 更新会直接覆盖成新的包。</p><h2 id="4-应用主题"><a href="#4-应用主题" class="headerlink" title="4. 应用主题"></a>4. 应用主题</h2><ol><li>修改站点配置文件_config.yml，把主题改为 butterfly</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: butterfly</span><br></pre></td></tr></table></figure><p>如果你没有 <code>pug</code> 以及 <code>stylus</code> 的渲染器，请下载安装，这两个渲染器是 <code>Butterfly</code> 生成基础页面所需的依赖包：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><ol start="2"><li>为了减少升级主题后带来的不便，请使用以下方法（建议，可以不做，高度魔改的一般都不会升级主题了，不然魔改的会被覆盖掉）<br>把主题文件夹中的 <code>_config.yml</code> 复制到 Hexo 根目录里（我这里路径为【C:&#x2F;Hexo-Blog&#x2F;blog-demo】），同时重新命名为 <code>_config.butterfly.yml</code>。以后只需要在 <code>_config.butterfly.yml</code> 进行配置即可生效。Hexo 会自动合併主题中的<code>_config.yml</code> 和 <code>_config.butterfly.yml</code> 里的配置，如果存在同名配置，会使用<code>_config.butterfly.yml</code> 的配置，其优先度较高。</li></ol><h2 id="5-基础用法说明"><a href="#5-基础用法说明" class="headerlink" title="5. 基础用法说明"></a>5. 基础用法说明</h2><h3 id="5-1-Front-matter"><a href="#5-1-Front-matter" class="headerlink" title="5.1 Front-matter"></a>5.1 Front-matter</h3><p><code>Front-matter</code> 是 markdown 文件最上方以 <code>---</code> 分隔的区域，用于指定个别档案的变数。</p><ul><li>Page Front-matter 用于页面配置</li><li>Post Front-matter 用于文章页配置</li></ul><p><em><strong>如果标注可选的参数，可根据自己需要添加，不用全部都写</strong></em></p><p><strong>Page Front-matter：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">type:</span><br><span class="line">comments:</span><br><span class="line">description:</span><br><span class="line">keywords:</span><br><span class="line">top_img:</span><br><span class="line">mathjax:</span><br><span class="line">katex:</span><br><span class="line">aside:</span><br><span class="line">aplayer:</span><br><span class="line">highlight_shrink:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">写法</th><th>解释</th></tr></thead><tbody><tr><td align="left">title</td><td>【必需】页面标题</td></tr><tr><td align="left">date</td><td>【必需】页面创建日期</td></tr><tr><td align="left">type</td><td>【必需】标籤、分类和友情链接三个页面需要配置</td></tr><tr><td align="left">updated</td><td>【可选】页面更新日期</td></tr><tr><td align="left">description</td><td>【可选】页面描述</td></tr><tr><td align="left">keywords</td><td>【可选】页面关键字</td></tr><tr><td align="left">comments</td><td>【可选】显示页面评论模块 (默认 true)</td></tr><tr><td align="left">top_img</td><td>【可选】页面顶部图片</td></tr><tr><td align="left">mathjax</td><td>【可选】显示 mathjax (当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td align="left">kates</td><td>【可选】显示 katex (当设置 katex 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td align="left">aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr><tr><td align="left">aplayer</td><td>【可选】在需要的页面加载 aplayer 的 js 和 css, 请参考文章下面的音乐 配置</td></tr><tr><td align="left">highlight_shrink</td><td>【可选】配置代码框是否展开 (true&#x2F;false)(默认为设置中 highlight_shrink 的配置)</td></tr></tbody></table><p><strong>Post Front-matter：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top_img:</span><br><span class="line">comments:</span><br><span class="line">cover:</span><br><span class="line">toc:</span><br><span class="line">toc_number:</span><br><span class="line">toc_style_simple:</span><br><span class="line">copyright:</span><br><span class="line">copyright_author:</span><br><span class="line">copyright_author_href:</span><br><span class="line">copyright_url:</span><br><span class="line">copyright_info:</span><br><span class="line">mathjax:</span><br><span class="line">katex:</span><br><span class="line">aplayer:</span><br><span class="line">highlight_shrink:</span><br><span class="line">aside:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><table><thead><tr><th>写法</th><th>解释</th></tr></thead><tbody><tr><td>title</td><td>【必需】文章标题</td></tr><tr><td>date</td><td>【必需】文章创建日期</td></tr><tr><td>updated</td><td>【可选】文章更新日期</td></tr><tr><td>tags</td><td>【可选】文章标籤</td></tr><tr><td>categories</td><td>【可选】文章分类</td></tr><tr><td>keywords</td><td>【可选】文章关键字</td></tr><tr><td>description</td><td>【可选】文章描述</td></tr><tr><td>top_img</td><td>【可选】文章顶部图片</td></tr><tr><td>cover</td><td>【可选】文章缩略图 (如果没有设置 top_img, 文章页顶部将显示缩略图，可设为 false &#x2F; 图片地址 &#x2F; 留空)</td></tr><tr><td>comments</td><td>【可选】显示文章评论模块 (默认 true)</td></tr><tr><td>toc</td><td>【可选】显示文章 TOC (默认为设置中 toc 的 enable 配置)</td></tr><tr><td>toc_number</td><td>【可选】显示 toc_number (默认为设置中 toc 的 number 配置)</td></tr><tr><td>toc_style_simple</td><td>【可选】显示 toc 简洁模式</td></tr><tr><td>copyright</td><td>【可选】显示文章版权模块 (默认为设置中 post_copyright 的 enable 配置)</td></tr><tr><td>copyright_author</td><td>【可选】文章版权模块的文章作者</td></tr><tr><td>copyright_author_href</td><td>【可选】文章版权模块的文章作者链接</td></tr><tr><td>copyright_url</td><td>【可选】文章版权模块的文章连结链接</td></tr><tr><td>copyright_info</td><td>【可选】文章版权模块的版权声明文字</td></tr><tr><td>mathjax</td><td>【可选】显示 mathjax (当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td>katex</td><td>【可选】显示 katex (当设置 katex 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td>aplayer</td><td>【可选】在需要的页面加载 aplayer 的 js 和 css, 请参考文章下面的音乐 配置</td></tr><tr><td>highlight_shrink</td><td>【可选】配置代码框是否展开 (true&#x2F;false)(默认为设置中 highlight_shrink 的配置)</td></tr><tr><td>aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr></tbody></table><p>注意：我的博客根目录路径为 【C:&#x2F;Hexo-Blog&#x2F;blog-demo】，下文所说的根目录都是此路径，将用 [BlogRoot] 代替。</p><h3 id="5-2-标签页"><a href="#5-2-标签页" class="headerlink" title="5.2 标签页"></a>5.2 标签页</h3><ol><li><p>前往你的 Hexo 博客根目录，打开 <code>Git Bash</code> 执行如下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure></li></ol><p>在 <code>[BlogRoot]\source\</code> 会生成一个含有 <code>index.md</code> 文件的 <code>tags</code> 文件夹。</p><p>修改 <code>[BlogRoot]\source\tags\index.md</code>，添加 <code>type: &quot;tags&quot;</code>。</p><ol><li><h2 id="96-96-96"><a href="#96-96-96" class="headerlink" title="&#96;&#96;&#96;"></a>&#96;&#96;&#96;</h2><h2 id="title-tagsdate-2022-10-28-12-00-00type-“tags”"><a href="#title-tagsdate-2022-10-28-12-00-00type-“tags”" class="headerlink" title="title: tagsdate: 2022-10-28 12:00:00type: “tags”"></a>title: tags<br>date: 2022-10-28 12:00:00<br>type: “tags”</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 5.3 友情链接</span><br><span class="line"></span><br><span class="line">1. 前往你的 Hexo 博客根目录，打开 cmd 命令窗口执行如下命令：</span><br><span class="line"></span><br></pre></td></tr></table></figure>hexo new page link<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">在 `[BlogRoot]\source\` 会生成一个含有 `index.md` 文件的 `link` 文件夹</span><br><span class="line"></span><br><span class="line">修改 `[BlogRoot]\source\link\index.md`，添加 `type: &quot;link&quot;`</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><hr><h2 id="title-linkdate-2022-10-28-12-00-00type-“link”"><a href="#title-linkdate-2022-10-28-12-00-00type-“link”" class="headerlink" title="title: linkdate: 2022-10-28 12:00:00type: “link”"></a>title: link<br>date: 2022-10-28 12:00:00<br>type: “link”</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">前往 `[BlogRoot]\source\_data` 创建一个 `link.yml` 文件（如果沒有 `_data` 文件夹，请自行创建），并写入如下信息（根据你的需要写）：</span><br><span class="line"></span><br><span class="line">1. ```</span><br><span class="line">   - class_name: 1.技术支持</span><br><span class="line">     class_desc: 本网站的搭建由以下开源作者提供技术支持</span><br><span class="line">     link_list: </span><br><span class="line">       - name: Hexo </span><br><span class="line">         link: https://hexo.io/zh-cn/</span><br><span class="line">         avatar: https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg</span><br><span class="line">         descr: 快速、简单且强大的网志框架</span><br><span class="line">         siteshot: https://source.fomal.cc/siteshot/hexo.io.jpg</span><br><span class="line">         </span><br><span class="line">   - class_name: 2.友情链接</span><br><span class="line">     class_desc: 一些好朋友~~</span><br><span class="line">     link_list:</span><br><span class="line">       - name: Fomalhaut🥝</span><br><span class="line">         link: https://fomal.cc/</span><br><span class="line">         avatar: /assets/head.jpg</span><br><span class="line">         descr: Future is now 🍭🍭🍭</span><br><span class="line">         siteshot: https://source.fomal.cc/siteshot/www.fomal.cn.jpg</span><br></pre></td></tr></table></figure><p>   class_name 和 class_desc 支持 html 格式，如不需要，也可以留空。</p><h3 id="5-4-图库"><a href="#5-4-图库" class="headerlink" title="5.4 图库"></a>5.4 图库</h3><p>图库页面只是普通的页面，你只需要 <code>hexo new page xxx</code> 创建你的页面就行。</p><p>然后使用外挂标签 <code>galleryGroup</code>，具体用法请查看对应的内容。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;gallery-group-main&quot;&gt;</span><br><span class="line"></span><br><span class="line">&#123;% galleryGroup &#x27;封面专区&#x27; &#x27;本站用作文章封面的图片，不保证分辨率&#x27; &#x27;/box/Gallery/photo&#x27; https://source.fomal.cc/img/default_cover_61.webp %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% galleryGroup &#x27;背景专区&#x27; &#x27;收藏的一些的背景与壁纸，分辨率很高&#x27; &#x27;/box/Gallery/wallpaper&#x27; https://source.fomal.cc/img/dm11.webp %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h3 id="5-5-子页面"><a href="#5-5-子页面" class="headerlink" title="5.5 子页面"></a>5.5 子页面</h3><p>子页面也是普通的页面，你只需要 <code>hexo new page xxx</code> 创建你的页面就行。</p><p>然后使用标签外挂 <code>gallery</code>，具体用法请查看对应的内容。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125; </span><br><span class="line">![p1]( https://source.fomal.cc/img/default_cover_1.webp ) </span><br><span class="line">![p2]( https://source.fomal.cc/img/default_cover_2.webp ) </span><br><span class="line">![p3]( https://source.fomal.cc/img/default_cover_3.webp ) </span><br><span class="line">![p4]( https://source.fomal.cc/img/default_cover_4.webp ) </span><br><span class="line">![p5]( https://source.fomal.cc/img/default_cover_5.webp ) </span><br><span class="line">![p6]( https://source.fomal.cc/img/default_cover_6.webp ) </span><br><span class="line">![p7]( https://source.fomal.cc/img/default_cover_7.webp ) </span><br><span class="line">![p8]( https://source.fomal.cc/img/default_cover_8.webp ) </span><br><span class="line">![p9]( https://source.fomal.cc/img/default_cover_9.webp ) </span><br><span class="line">![p10]( https://source.fomal.cc/img/default_cover_10.webp ) </span><br><span class="line">![p11]( https://source.fomal.cc/img/default_cover_11.webp ) </span><br><span class="line">![p12]( https://source.fomal.cc/img/default_cover_12.webp ) </span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><h3 id="5-6-404-页面"><a href="#5-6-404-页面" class="headerlink" title="5.6 404 页面"></a>5.6 404 页面</h3><p>主題內置了一个简单的 404 页面，可在设置中开放。</p><p>如需本地预览，请访问 <a href="http://localhost:4000/404.html">http://localhost:4000/404.html</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># A simple 404 pageerror_404:  enable: true  subtitle: &quot;页面沒有找到&quot;  background: </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 搭建博客 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo博客搭建基础教程（一）</title>
      <link href="/posts/15b2177.html"/>
      <url>/posts/15b2177.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h2><ol><li>博客搭建过程遇到任何问题，优先在本页面搜索，检查是否已经有该配置教程。</li><li>遇到问题可以优先在文章评论区留言，注意留言时请填写正确的邮箱以确保能收到回复。</li><li>本站和本文章来自<a href="https://www.fomal.cc/%E5%8F%82%E8%80%83%E5%86%99%E6%88%90">https://www.fomal.cc/参考写成</a>   感谢大佬</li></ol><h2 id="2-环境与工具准备"><a href="#2-环境与工具准备" class="headerlink" title="2. 环境与工具准备"></a>2. 环境与工具准备</h2><p><strong>本教程主要面对的是 Windows 用户</strong></p><ul><li>操作系统：Windows11</li><li>Node</li><li>Git</li><li>Hexo</li><li>文本编辑器 (强烈推荐 VSCODE)</li><li>GitHub 帐号</li><li>一个域名（强烈推荐买个域名）</li><li>云服务器（可选）</li></ul><h2 id="3-Node-的安装"><a href="#3-Node-的安装" class="headerlink" title="3.Node 的安装"></a>3.Node 的安装</h2><ol><li><p>打开 Node 官网，下载和自己系统相配的 Node 的安装程序，否则会出现安装问题。下载地址：<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a><br>我个人的版本是 12.19.0，目前版本已经更新到 19.0.0，按照个人经验，可以选个低一些的版本，可以和我的一样，否则后面会出现各种不兼容的问题！我之前就是安装 16 的，系统无法识别，如果大家遇到问题建议选个低版本的！历史版本下载页面：<a href="https://nodejs.org/en/download/releases/">https://nodejs.org/en/download/releases/</a><br><a href="https://s1.vika.cn/space/2022/10/27/876780920daf4f8fb319d49ff68f17a3"><img src="https://s1.vika.cn/space/2022/10/27/876780920daf4f8fb319d49ff68f17a3" alt="image-20221027173738226"></a></p></li><li><p>下载后安装，安装的目录可以使用默认目录【C:&#x2F;Program Files&#x2F;nodejs&#x2F;】，也可以自定义路径。<br>这个环境路径切换坑也很多，如果大家 C 盘空间足够可以直接装 C 盘，如果想切换其他盘或者把环境遍历切换到自定义路径也可以，具体教程百度 (不过坑比较多就是了)!</p></li><li><p>安装完成后，检查是否安装成功。在键盘按下 win + R 键，输入 CMD，然后回车，打开 CMD 窗口，执行 node -v 命令，看到版本信息，则说明安装成功。</p></li><li><p>修改 npm 源。npm 下载各种模块，默认是从国处服务器下载，速度较慢，建议配置成淘宝镜像。打开 CMD 窗口，运行如下命令:</p></li><li><pre><code>npm config set registry https://registry.npm.taobao.org<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 4. 安装 Hexo</span><br><span class="line"></span><br><span class="line">1. 在 `Git BASH` 输入如下命令安装</span><br><span class="line"></span><br><span class="line">1. ```</span><br><span class="line">   npm install -g hexo-cli</span><br></pre></td></tr></table></figure></code></pre></li><li><p>安装完后输入 hexo -v 验证是否安装成功。</p></li></ol><p><a href="https://s1.vika.cn/space/2022/10/27/f05830f48da44ea98d2a55c3a6663004"><img src="https://s1.vika.cn/space/2022/10/27/f05830f48da44ea98d2a55c3a6663004" alt="image-20221027173525181"></a></p><h2 id="5-Github-注册与创建仓库"><a href="#5-Github-注册与创建仓库" class="headerlink" title="5.Github 注册与创建仓库"></a>5.Github 注册与创建仓库</h2><ol><li>进入官网 <a href="https://github.com/">https://github.com/</a><br><a href="https://bu.dusays.com/2022/05/12/627d2c0449341.webp"><img src="https://bu.dusays.com/2022/05/12/627d2c0449341.webp" alt="Github注册"></a></li><li>点击右上角的 Sign up (注册)<br><a href="https://bu.dusays.com/2022/05/12/627d2c05ee628.png"><img src="https://bu.dusays.com/2022/05/12/627d2c05ee628.png" alt="Github注册"></a></li><li>填写自己的邮箱、密码、用户名等信息，然后用邮箱验证即可完成。</li><li>注册完成后，点击右上角的 <code>+</code> 按钮，选择 <code>New repository</code>，创建一个 <code>&lt;用户名&gt;.github.io</code> 的仓库。</li></ol><p> <a href="https://s1.vika.cn/space/2022/10/27/7a06143d180d47088833a486732dccf5"><img src="https://s1.vika.cn/space/2022/10/27/7a06143d180d47088833a486732dccf5" alt="image-20221027110619071"></a></p><ul><li>仓库的格式必须为：&lt;用户名&gt;.github.io</li><li>Description：为描述仓库（选填）</li><li>勾选 Initialize this repository with a README 初始化一个 <a href="http://readme.md/">README.md</a> 文件</li><li>点击 Creat repository 进行创建</li></ul><p> <a href="https://s1.vika.cn/space/2022/10/27/0a4dbb10ca69422ca9ccb7493d0f177a"><img src="https://s1.vika.cn/space/2022/10/27/0a4dbb10ca69422ca9ccb7493d0f177a" alt="image-20221027111641909"></a></p><h2 id="6-Git-安装"><a href="#6-Git-安装" class="headerlink" title="6.Git 安装"></a>6.Git 安装</h2><ol><li><p>进入官网：<a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a> ，由于官网下载太慢可以通过淘宝的开源镜像下载 网址：<a href="https://registry.npmmirror.com/binary.html?path=git-for-windows/v2.36.1.windows.1/">https://registry.npmmirror.com/binary.html?path=git-for-windows/v2.36.1.windows.1/</a> ，下载版本更具自己的需求选择即可。</p><p><a href="https://s1.vika.cn/space/2022/10/27/28a7d7e6ef3f4df080da8d7e8337431b"><img src="https://s1.vika.cn/space/2022/10/27/28a7d7e6ef3f4df080da8d7e8337431b" alt="image-20221027111755697"></a></p></li><li><p>下载后傻瓜式安装 Git 即可，安装的目录可以使用默认目录【C:&#x2F;Program Files&#x2F;Git】，也可以自定义路径。</p></li><li><p>点击电脑左下角开始即可看见 <code>Git Bash</code>。</p></li></ol><p><a href="https://bu.dusays.com/2022/05/13/627d410ddc940.webp"><img src="https://bu.dusays.com/2022/05/13/627d410ddc940.webp" alt="Git Bash"></a></p><ul><li><code>Git CMD</code> 是 windows 命令行的指令风格</li><li><code>Git Bash</code> 是 linux 系统的指令风格（建议使用）</li><li><code>Git GUI</code> 是图形化界面（新手学习不建议使用）</li></ul><ol><li>常用命令</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config -l  //查看所有配置</span><br><span class="line">git config --system --list //查看系统配置</span><br><span class="line">git config --global --list //查看用户（全局）配置</span><br></pre></td></tr></table></figure><p>配置用户名和邮箱</p><ol><li><p>&#96;&#96;&#96;<br>git config –global user.name “你的用户名”<br>git config –global user.email “你的邮箱”</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. 通过 `git config -l` 检查是否配置成功，至此 git 安装及配置全部完成。</span><br><span class="line"></span><br><span class="line">   [![image-20221027112049822](https://s1.vika.cn/space/2022/10/27/9115d60b377a47f3a8b79779a287ee65)](https://s1.vika.cn/space/2022/10/27/9115d60b377a47f3a8b79779a287ee65)</span><br><span class="line"></span><br><span class="line">## 7. 连接至 Github</span><br><span class="line"></span><br><span class="line">1.执行以下命令生成 ssh 公钥，此公钥用于你的计算机连接 Github</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ssh-keygen -t rsa -C “你的邮箱”</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">之后打开 C 盘下用户文件夹下的.ssh 的文件夹，会看到 id_rsa.pub</span><br><span class="line"></span><br><span class="line">[![公钥](https://bu.dusays.com/2022/05/14/627e87126fc59.png)](https://bu.dusays.com/2022/05/14/627e87126fc59.png)</span><br><span class="line"></span><br><span class="line">用记事本打开上述图片中的公钥（id_rsa.pub），复制里面的内容，然后开始在 github 中配置 ssh 密钥。</span><br><span class="line"></span><br><span class="line">[![记事本打开公钥](https://bu.dusays.com/2022/05/14/627e87156038a.png)](https://bu.dusays.com/2022/05/14/627e87156038a.png)</span><br><span class="line"></span><br><span class="line">将 SSH KEY 配置到 GitHub</span><br><span class="line">进入 github，点击右上角头像 选择 `settings`，进入设置页后选择 `SSH and GPG keys`，名字随便起，公钥填到 `Key` 那一栏。</span><br><span class="line"></span><br><span class="line">[![image-20221027112347632](https://s1.vika.cn/space/2022/10/27/4a69d999fed54ff78a5b84805d3c6a12)](https://s1.vika.cn/space/2022/10/27/4a69d999fed54ff78a5b84805d3c6a12)</span><br><span class="line"></span><br><span class="line">[![image-20221027112416710](https://s1.vika.cn/space/2022/10/27/aa20ae7d8db34e2596638f5f031f0814)](https://s1.vika.cn/space/2022/10/27/aa20ae7d8db34e2596638f5f031f0814)</span><br><span class="line"></span><br><span class="line">[![image-20221027112657256](https://s1.vika.cn/space/2022/10/27/eaccde8a10eb4cde945a1ed221bb6ace)](https://s1.vika.cn/space/2022/10/27/eaccde8a10eb4cde945a1ed221bb6ace)</span><br><span class="line"></span><br><span class="line">测试连接，输入以下命令</span><br><span class="line"></span><br><span class="line">1. ```</span><br><span class="line">   ssh -T git@github.com</span><br></pre></td></tr></table></figure><p><a href="https://s1.vika.cn/space/2022/10/27/122bb1ef33074bee84030a525ce1ec56"><img src="https://s1.vika.cn/space/2022/10/27/122bb1ef33074bee84030a525ce1ec56" alt="image-20221027112918539"></a></p><p>出现连接到账户的信息，说明已经大功告成，至此完成了环境准备工作。</p></li></ol><h2 id="8-初始化-Hexo-项目"><a href="#8-初始化-Hexo-项目" class="headerlink" title="8. 初始化 Hexo 项目"></a>8. 初始化 Hexo 项目</h2><ol><li>在目标路径（我这里选的路径为【C:&#x2F;Hexo-Blog】）打开 cmd 命令窗口，执行 <code>hexo init</code> 初始化项目。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog-demo(项目名)</span><br></pre></td></tr></table></figure><p><a href="https://s1.vika.cn/space/2022/10/27/1fbeb52671cf4b1daeca3660d1a31a2f"><img src="https://s1.vika.cn/space/2022/10/27/1fbeb52671cf4b1daeca3660d1a31a2f" alt="image-20221027113206776"></a></p><p>进入 <code>blog-demo</code> ，输入 <code>npm i</code> 安装相关依赖。</p><ol><li>&#96;&#96;&#96;<br>cd blog-demo  &#x2F;&#x2F;进入blog-demo文件夹<br>npm i<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   [![image-20221027113331624](https://s1.vika.cn/space/2022/10/27/150eeb3e61c94b89a1cad2a3079b1f94)](https://s1.vika.cn/space/2022/10/27/150eeb3e61c94b89a1cad2a3079b1f94)</span><br><span class="line"></span><br><span class="line">2. 初始化项目后，`blog-demo` 有如下结构：</span><br><span class="line"></span><br><span class="line">[![image-20221027113438707](https://s1.vika.cn/space/2022/10/27/70cf503f27c54d30a31c6b13735023b7)](https://s1.vika.cn/space/2022/10/27/70cf503f27c54d30a31c6b13735023b7)</span><br><span class="line"></span><br><span class="line">【node_modules】：依赖包</span><br><span class="line">【scaffolds】：生成文章的一些模板</span><br><span class="line">【source】：用来存放你的文章</span><br><span class="line">【themes】：主题</span><br><span class="line">【.npmignore】：发布时忽略的文件（可忽略）</span><br><span class="line">【_config.landscape.yml】：主题的配置文件</span><br><span class="line">【config.yml】：博客的配置文件</span><br><span class="line">【package.json】：项目名称、描述、版本、运行和开发等信息</span><br><span class="line"></span><br><span class="line">1. 输入 hexo server 或者 hexo s 启动项目</span><br><span class="line"></span><br><span class="line">   [![image-20221027113534970](https://s1.vika.cn/space/2022/10/27/688592f6db1448d29a2f722fc7a0bb0a)](https://s1.vika.cn/space/2022/10/27/688592f6db1448d29a2f722fc7a0bb0a)</span><br><span class="line"></span><br><span class="line">2. 打开浏览器，输入地址：http://localhost:4000/ ，看到下面的效果，说明你的博客已经构建成功了。</span><br><span class="line"></span><br><span class="line">   [![博客首页](https://bu.dusays.com/2022/05/26/628e5423df640.webp)](https://bu.dusays.com/2022/05/26/628e5423df640.webp)</span><br><span class="line"></span><br><span class="line">## 9. 将静态博客挂载到 GitHub Pages</span><br><span class="line"></span><br><span class="line">1. 安装 hexo-deployer-git</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>npm install hexo-deployer-git –save<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">修改 _config.yml 文件</span><br><span class="line">在 blog-demo 目录下的_config.yml，就是整个 Hexo 框架的配置文件了。可以在里面修改大部分的配置。详细可参考官方的[配置描述](https://hexo.io/zh-cn/docs/configuration)。</span><br><span class="line">修改最后一行的配置，将 repository 修改为你自己的 github 项目地址即可，还有分支要改为 `main` 代表主分支（注意缩进）。</span><br><span class="line"></span><br></pre></td></tr></table></figure>deploy:<br>  type: git<br>  repository: <a href="mailto:&#103;&#x69;&#x74;&#x40;&#x67;&#x69;&#116;&#104;&#x75;&#x62;&#46;&#x63;&#111;&#109;">&#103;&#x69;&#x74;&#x40;&#x67;&#x69;&#116;&#104;&#x75;&#x62;&#46;&#x63;&#111;&#109;</a>:Fomalhaut-Blog&#x2F;Fomalhaut-Blog.github.io.git<br>  branch: main<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">修改好配置后，运行如下命令，将代码部署到 GitHub（Hexo 三连）。</span><br><span class="line"></span><br></pre></td></tr></table></figure>hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy  &#x2F;&#x2F; Git BASH终端<br>hexo clean; hexo generate; hexo deploy  &#x2F;&#x2F; VSCODE终端</li></ol><pre><code>- hexo clean：删除之前生成的文件，若未生成过静态文件，可忽略此命令。- hexo generate：生成静态文章，可以用 `hexo g` 缩写-  hexo deploy：部署文章，可以用 `hexo d` 缩写  [![image-20221027113704801](https://s1.vika.cn/space/2022/10/27/7ed7b8256d75408aa86e90cd37d0ea53)](https://s1.vika.cn/space/2022/10/27/7ed7b8256d75408aa86e90cd37d0ea53)  注意：deploy 时可能要你输入 username 和 password。  如果出现 `Deploy done`，则说明部署成功了。  [![image-20221027113756069](https://s1.vika.cn/space/2022/10/27/85b61e7242214d368539d744b4778a5d)](https://s1.vika.cn/space/2022/10/27/85b61e7242214d368539d744b4778a5d)  稍等两分钟，打开浏览器访问：https://Fomalhaut-Blog.github.io ，这时候我们就可以看到博客内容了。  [![image-20221027113923949](https://s1.vika.cn/space/2022/10/27/6de50dfe03604b07aa26fb7dd5fe1f99)](https://s1.vika.cn/space/2022/10/27/6de50dfe03604b07aa26fb7dd5fe1f99)</code></pre>]]></content>
      
      
      <categories>
          
          <category> 搭建博客 </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>专属于陈瑜小朋友的留言板</title>
      <link href="/Messagecenter/index.html"/>
      <url>/Messagecenter/index.html</url>
      
        <content type="html"><![CDATA[<h2 id="嘿嘿，被发现了呢"><a href="#嘿嘿，被发现了呢" class="headerlink" title="嘿嘿，被发现了呢"></a>嘿嘿，被发现了呢</h2><p>陈瑜小朋友</p><p>见字如晤   展信舒颜</p><p>如果你有小烦恼，纠结的小事情或者让你不开心的事情，亦或者有什么想说的想做的，都可以在这个留言板下面留言，我会不定期看下面的留言。</p><p>虽然留言了也不一定有用，嘿嘿。</p><p>当然我也会去深思你这些问题</p><p>记得要开开心心每一天，我会一直在的</p><p>那就祝我们在各自的领域里努力发光发亮，熠熠生辉，直到耀眼。</p><p> 嗯，就这样吧</p><p>————————————————————————————————顺颂时祺                                      秋绥冬喜</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>关于</title>
      <link href="/about/index.html"/>
      <url>/about/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>文章分类</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/custom.css"/>
      <url>/css/custom.css</url>
      
        <content type="html"><![CDATA[/* 页脚与头图透明 */#footer {              background: transparent !important;            }            #page-header {              background: transparent !important;            }                        /* 白天模式遮罩透明 */            #footer::before {              background: transparent !important;            }            #page-header::before {              background: transparent !important;            }                        /* 夜间模式遮罩透明 */            [data-theme="dark"] #footer::before {              background: transparent !important;            }            [data-theme="dark"] #page-header::before {              background: transparent !important;            }                        /* 小冰分类分类磁铁黑夜模式适配 *//* 一般状态 */[data-theme="dark"] .magnet_link_context {  background: #1e1e1e;  color: antiquewhite;}/* 鼠标悬浮状态 */[data-theme="dark"] .magnet_link_context:hover {  background: #3ecdf1;  color: #f2f2f2;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/runtime.js"/>
      <url>/js/runtime.js</url>
      
        <content type="html"><![CDATA[var now=new Date;function createtime(){now.setTime(now.getTime()+1e3);var e=new Date("12/01/2022 00:00:00"),t=Math.trunc(234e8+(now-e)/1e3*17),a=(t/1496e5).toFixed(6),o=new Date("12/01/2022 00:00:00"),r=(now-o)/1e3/60/60/24,i=Math.floor(r),n=(now-o)/1e3/60/60-24*i,s=Math.floor(n);1==String(s).length&&(s="0"+s);var l=(now-o)/1e3/60-1440*i-60*s,g=Math.floor(l);1==String(g).length&&(g="0"+g);var d=(now-o)/1e3-86400*i-3600*s-60*g,b=Math.round(d);1==String(b).length&&(b="0"+b);let c="";c=s<18&&s>=9?`<img class='boardsign' src='https://img.shields.io/badge/F%E5%B0%8F%E5%B1%8B-%E4%B8%8A%E7%8F%AD%E6%91%B8%E9%B1%BC%E4%B8%AD-1ade23?style=social&logo=Buy%20Me%20A%20Coffee' title='距离月入25k也就还差一个大佬带我~'><br> 本站居然运行了 ${i} 天 ${s} 小时 ${g} 分 ${b} 秒 <i id="heartbeat" class='fas fa-heartbeat'></i> <br> 旅行者 1 号当前距离地球 ${t} 千米，约为 ${a} 个天文单位 🚀 <br> 再看看那个光点，它就在这里，这是家园，这是我们 —— 你所爱的每一个人，你认识的一个人，你听说过的每一个人，曾经有过的每一个人，都在它上面度过他们的一生✨ `:`<img class='boardsign' src='https://img.shields.io/badge/F小屋-打烊休息啦-6adea8?style=social&logo=coffeescript' title='下班了就该开开心心的玩耍，嘿嘿~'><br> 本站居然运行了 ${i} 天 ${s} 小时 ${g} 分 ${b} 秒 <i id="heartbeat" class='fas fa-heartbeat'></i> <br> 旅行者 1 号当前距离地球 ${t} 千米，约为 ${a} 个天文单位 🚀 <br> 再看看那个光点，它就在这里，这是家园，这是我们 —— 你所爱的每一个人，你认识的一个人，你听说过的每一个人，曾经有过的每一个人，都在它上面度过他们的一生✨ `,document.getElementById("workboard")&&(document.getElementById("workboard").innerHTML=c)}setInterval((()=>{createtime()}),1e3);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>link</title>
      <link href="/link/index.html"/>
      <url>/link/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>和陈总一起看过的电影</title>
      <link href="/movies/index.html"/>
      <url>/movies/index.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-弱点（2月8号）"><a href="#1-弱点（2月8号）" class="headerlink" title="1.弱点（2月8号）"></a>1.弱点（2月8号）</h2><p><img src="F:\桌面\blog\themes\hexo-theme-butterfly\source\img\弱点.jpg" alt="弱点"></p><p>well，one thing i know about shopping is that if you don’t absolutely love it in the store,you won’t wear it.The store is, where you like it best.So before you choose something think of yourself wearing it and say to yourself,is this me?</p><p>———关于购物，我知道的一件事就是如果你在商店里不是很喜欢它，你就不会穿它。商店就在你最喜欢的地方，所以在你选择之前，想想你自己穿着它然后对自己说，这是我吗？</p><h2 id="2-逗鸟外传（2月11号）"><a href="#2-逗鸟外传（2月11号）" class="headerlink" title="2.逗鸟外传（2月11号）"></a>2.逗鸟外传（2月11号）</h2><p><img src="F:\桌面\blog\themes\hexo-theme-butterfly\source\img\逗鸟外传.jpg" alt="逗鸟外传"></p><p>我看着看着睡着了，哈哈哈哈哈哈哈哈哈哈哈，不好意思陈总</p><h2 id="3-傲慢与偏见（2月14号）"><a href="#3-傲慢与偏见（2月14号）" class="headerlink" title="3.傲慢与偏见（2月14号）"></a>3.傲慢与偏见（2月14号）</h2><p>我从晨曦中走来，衣端的露水，是无数个夜晚思念你的泪。</p><p>—————————————————————————————————-___傲慢与偏见</p><p>想看的电影记得告诉我奥  ——-</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>想和陈总一起听的音乐</title>
      <link href="/music/index.html"/>
      <url>/music/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>tags</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
